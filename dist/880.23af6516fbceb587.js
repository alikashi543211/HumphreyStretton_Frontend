"use strict";(self.webpackChunkhumphree=self.webpackChunkhumphree||[]).push([[880],{8880:(It,T,c)=>{c.r(T),c.d(T,{RodModule:()=>St});var _=c(9808),g=c(7587),k=c(9330),A=c(5979),e=c(5e3),h=c(1702),f=c(9634),C=c(9644),l=c(4182),b=c(6783);const U=["inputQuotation"];function N(r,a){if(1&r&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.Q6J("value",a.index),e.xp6(1),e.Oqu(t.name)}}function q(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"span",38),e._uU(1),e.TgZ(2,"i-feather",39),e.NdJ("click",function(){const i=e.CHM(t).index;return e.oxw().removeProduct(i)}),e.qZA()()}if(2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function P(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"li",42),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.oxw(2).selectCustomer(i)}),e._uU(1),e.qZA()}if(2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function J(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",40)(1,"ul"),e.YNc(2,P,2,1,"li",41),e.TgZ(3,"li",42),e.NdJ("click",function(){return e.CHM(t),e.oxw().selectCustomer("new")}),e._uU(4,"Add Customer"),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.customers)}}function D(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"label",14),e._uU(3,"Sage Customer Id"),e.qZA(),e.TgZ(4,"div",43)(5,"input",44),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().sageCustomerId=o}),e.qZA()()()()}if(2&r){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.sageCustomerId)}}function S(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"li",42),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.oxw(3).selectSageCustomer(i)}),e._uU(1),e.qZA()}if(2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function I(r,a){if(1&r&&(e.TgZ(0,"div",40)(1,"ul"),e.YNc(2,S,2,1,"li",41),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.sageCustomers)}}function Q(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",21)(1,"div",11)(2,"div",12)(3,"div",22),e.NdJ("focusout",function(){return e.CHM(t),e.oxw().sageCustomerInputOut()}),e.TgZ(4,"label",14),e._uU(5,"Sage Customer"),e.qZA(),e.TgZ(6,"input",45),e.NdJ("input",function(o){return e.CHM(t),e.oxw().searchSageCustomer(o)})("focus",function(){return e.CHM(t),e.oxw().sageCustomerInput=!0})("ngModelChange",function(o){return e.CHM(t),e.oxw().sageCustomerName=o}),e.qZA(),e.YNc(7,I,3,1,"div",24),e._UZ(8,"i-feather",25),e.qZA()()()()}if(2&r){const t=e.oxw();e.xp6(6),e.Q6J("ngModel",t.sageCustomerName),e.xp6(1),e.Q6J("ngIf",t.sageCustomerInput)}}function R(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"li",42),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.oxw(2).selectEmployee(i)}),e._uU(1),e.qZA()}if(2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function F(r,a){if(1&r&&(e.TgZ(0,"div",40)(1,"ul",46),e.YNc(2,R,2,1,"li",41),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.salePersons)}}function Y(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"li",42),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.oxw(2).selectScheduler(i)}),e._uU(1),e.qZA()}if(2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function E(r,a){if(1&r&&(e.TgZ(0,"div",40)(1,"ul",46),e.YNc(2,Y,2,1,"li",41),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.employees)}}let H=(()=>{class r{constructor(t,n,o,i,s,d){this._rod=t,this.helper=n,this._modal=o,this.datePipe=i,this._location=s,this.router=d,this.products=[],this.selectedProducts=[],this.customers=[],this.salePersons=[],this.employees=[],this.dateToday=new Date,this.workOrder={products:this.selectedProducts,customer_id:0,location:"",contract:"",fsc:!1,order_number:null,sage_customer_id:"",schedule_ref:"",description:"",delivery_fee:"0",total_value:0,settlement_due_days:30,settlement_discount:0,settlement_discount_amount:0,straight_discount_description:"",straight_discount:0,straight_discount_amount:0,employee_id:0,scheduler_id:null,due_date:"",quotation_id:null},this.totalValue=0,this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles"},this.quotationData=null,this.straightDiscount=!1,this.settlementDiscount=!1,this.currentDate=new Date,this.customerInput=!1,this.employeeInput=!1,this.schedulerInput=!1,this.isManualInvoice=!1,this.customerName="",this.employeeName="",this.scheduler="",this.sageCustomerInput=!1,this.sageCustomerName="",this.showSageSearch=!1}ngOnInit(){this.getProductsListing(),this.getCustomerListing(),this.getEmployeeListing()}getEmployeeListing(){this._rod.getEmployeeListing().subscribe(t=>{this.employees=t.data.data,this.salePersons=t.data.data})}getProductsListing(){this._rod.productsListing().subscribe(t=>{this.products=t.data})}getCustomerListing(){this._rod.getCustomersListing().subscribe(t=>{this.customers=t.data.data})}addSalesOrder(){this.validateAddForm()&&(this.workOrder.quotation_id=this.quotationUploaded()?this.quotationData.quotation_id:null,this._rod.storeWorkOrder(this.workOrder).subscribe(t=>{this.helper.toastSuccess(t.message),this.router.navigate(["rod"])}))}selectProduct(t){let n=this.products[t.target.value];t.target.value="select",this.selectedProducts.find(o=>o.id==n.id)||this.selectedProducts.push({id:n.id,name:n.name,quantity:"",value:0})}searchCustomer(t){(t.target.value.length>=3||0==t.target.value.length)&&(this.searchSubscription&&this.searchSubscription.unsubscribe(),this.searchSubscription=this._rod.getCustomersListing({search:t.target.value}).subscribe(n=>{this.customers=n.data.data}))}searchSalePerson(t){(t.target.value.length>=3||0==t.target.value.length)&&(this.searchSubscription&&this.searchSubscription.unsubscribe(),this.searchSubscription=this._rod.getEmployeeListing({search:t.target.value}).subscribe(n=>{this.salePersons=n.data.data}))}searchEmployee(t){(t.target.value.length>=3||0==t.target.value.length)&&(this.searchSubscription&&this.searchSubscription.unsubscribe(),this.searchSubscription=this._rod.getEmployeeListing({search:t.target.value}).subscribe(n=>{this.employees=n.data.data}))}searchSageCustomer(t){(t.target.value.length>=3||0==t.target.value.length)&&(this.searchSubscription&&this.searchSubscription.unsubscribe(),this.searchSubscription=this._rod.searchSageCustomerId({search:t.target.value}).subscribe(n=>{this.sageCustomers=n.data}))}removeProduct(t){2==this.selectedProducts.length&&!this.checkQuotationUpload()&&(this.quotationData=null),this.selectedProducts.splice(t,1),this.calculateValue()}selectCustomer(t){if("new"==t){const n=this._modal.open(k.y,this.modalConfig);n.componentInstance.response.subscribe(o=>{o.success&&(this.customers.push(o.data),this.workOrder.customer_id=o.data.id,this.selectedCustomer=o.data,this.customerName=o.data.name,this.sageCustomerId="",this.showSageSearch=!0),n.dismiss()})}else this._rod.getSageCustomerId({id:t.id}).subscribe(n=>{n.data?(this.workOrder.sage_customer_id=n.data,this.sageCustomerId=n.data,this.showSageSearch=!1,this.sageCustomerName="",this.sageCustomers=[],this.selectedsageCustomer={}):(this.sageCustomerId="",this.showSageSearch=!0)}),this.workOrder.customer_id=t.id,this.selectedCustomer=t,this.customerName=t.name;this.customerInputOut()}selectEmployee(t){this.workOrder.employee_id=t.id,this.selectedEmployee=t,this.employeeName=t.name,this.employeeInputOut()}selectSageCustomer(t){this.workOrder.sage_customer_id=t.accountRef,this.sageCustomerId=t.accountRef,this.selectedsageCustomer=t,this.sageCustomerName=t.name,this.sageCustomerInputOut()}selectScheduler(t){this.workOrder.scheduler_id=t.id,this.selectedScheduler=t,this.scheduler=t.name,this.schedulerInputOut()}calculateValue(){let t=0;this.selectedProducts.forEach(n=>{t+=n.value?parseFloat(n.value):0}),this.totalValue=t+(this.workOrder.delivery_fee?parseFloat(this.workOrder.delivery_fee):0),this.calculateDiscount()}validateAddForm(){return this.workOrder.products.length?this.workOrder.customer_id?this.workOrder.employee_id?this.workOrder.contract.length?!!this.workOrder.location.length||(this.helper.toastError("Please enter location"),!1):(this.helper.toastError("Please enter contract details"),!1):(this.helper.toastError("Please select sales person"),!1):(this.helper.toastError("Please select customer"),!1):(this.helper.toastError("Please select product"),!1)}validateUpdateForm(){return this.updateOrder.product_id?this.updateOrder.quantity?this.updateOrder.contract.length?this.updateOrder.order_number.length?!!this.updateOrder.location.length||(this.helper.toastError("Please enter location"),!1):(this.helper.toastError("Please enter customer order number"),!1):(this.helper.toastError("Please enter contract details"),!1):(this.helper.toastError("Please enter product quantity"),!1):(this.helper.toastError("Please select product"),!1)}customerInputOut(){setTimeout(()=>{var t;this.customerInput=!1,this.customerName=null===(t=this.selectedCustomer)||void 0===t?void 0:t.name,0==this.customers.length&&(this.searchSubscription&&this.searchSubscription.unsubscribe(),this.searchSubscription=this._rod.getCustomersListing({search:""}).subscribe(n=>{this.customers=n.data.data}))},200)}employeeInputOut(){setTimeout(()=>{var t;this.employeeInput=!1,this.employeeName=null===(t=this.selectedEmployee)||void 0===t?void 0:t.name,0==this.salePersons.length&&(this.searchSubscription&&this.searchSubscription.unsubscribe(),this.searchSubscription=this._rod.getEmployeeListing({search:""}).subscribe(n=>{this.salePersons=n.data.data}))},200)}sageCustomerInputOut(){setTimeout(()=>{var t;this.sageCustomerInput=!1,this.sageCustomerName=null===(t=this.selectedsageCustomer)||void 0===t?void 0:t.name,0==this.sageCustomers.length&&(this.searchSubscription&&this.searchSubscription.unsubscribe(),this.searchSubscription=this._rod.searchSageCustomerId({search:""}).subscribe(n=>{this.sageCustomers=n.data}))},200)}schedulerInputOut(){setTimeout(()=>{var t;this.schedulerInput=!1,this.scheduler=null===(t=this.selectedScheduler)||void 0===t?void 0:t.name,0==this.employees.length&&(this.searchSubscription&&this.searchSubscription.unsubscribe(),this.searchSubscription=this._rod.getEmployeeListing({search:""}).subscribe(n=>{this.employees=n.data.data}))},200)}dateChanged(t){this.workOrder.due_date=this.datePipe.transform(t,"YYYY-MM-dd")}quotationUploaded(){return!(!this.checkQuotationUpload()||!this.quotationData)}checkQuotationUpload(){return 2==this.selectedProducts.length&&null!=this.selectedProducts.find(t=>1==t.id)&&null!=this.selectedProducts.find(t=>2==t.id)}calculateDiscount(){if(this.workOrder.total_value){let t=this.totalValue,n=0,o=0;this.settlementDiscount&&this.workOrder.settlement_discount&&(n+=parseFloat((this.workOrder.settlement_discount/100*t).toFixed(2))),this.straightDiscount&&this.workOrder.straight_discount&&(o+=parseFloat((this.workOrder.straight_discount/100*t).toFixed(2))),this.workOrder.settlement_discount_amount=n,this.workOrder.straight_discount_amount=o,this.workOrder.total_value=parseFloat((t-o).toFixed(2))}else this.workOrder.total_value=parseFloat(this.totalValue.toFixed(2))}selectQuotation(t){const n=t.target.files[0];if(!["xlsx","csv","xls","vnd.openxmlformats-officedocument.spreadsheetml.sheet","vnd.ms-excel"].includes(n.type.split("/")[1]))return this.helper.toastError(`Unsupported file .${n.type.split("/")[1]}`),void(t.target.files=null);if(n.size>1e7)return this.helper.toastError("Attachment must be less than 5MB"),void(t.target.files=null);let i=new FormData;i.set("quotation",n,n.name),this.inputQuotation.nativeElement.value="",this._rod.quotationImport(i).subscribe(s=>{this.confirmPreview(s.data),t.target.files=null},s=>{t.target.files=null})}confirmPreview(t){this.modalConfig.windowClass="modal-roles job-notes-modal";const n=this._modal.open(A.F,this.modalConfig);n.componentInstance.importOrder=t,n.componentInstance.response.subscribe(o=>{o.success&&(n.dismiss(),this.modalConfig.windowClass="modal-roles",this.setQutationData(t)),o.success||(n.dismiss(),this.modalConfig.windowClass="modal-roles")})}setQutationData(t){this.quotationData=t;let n=t,o=this.workOrder.products.find(s=>"Frame"==s.name),i=this.workOrder.products.find(s=>"Doors"==s.name);o.quantity=n.total_frame_quantity,o.value=n.total_frame_value,i.quantity=n.total_door_quantity,i.value=n.total_door_value,this.workOrder.contract=n.contract,this.workOrder.delivery_fee=n.delivery_fee,this.workOrder.total_value=this.totalValue=parseFloat(n.total_value),this.workOrder.quotation_id=n.quotation_id,this.workOrder.settlement_discount=n.discount_percentage,this.workOrder.settlement_discount_amount=n.discount_amount,this.workOrder.description=n.full_description,this.workOrder.settlement_discount>0&&(this.settlementDiscount=!0),this.calculateValue()}updateManualInvoice(t){this.isManualInvoice=t.target.checked}cancel(){this.router.navigate(["rod"])}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(h.W),e.Y36(f.B),e.Y36(C.FF),e.Y36(_.uU),e.Y36(_.Ye),e.Y36(g.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-work-order"]],viewQuery:function(t,n){if(1&t&&e.Gf(U,5),2&t){let o;e.iGM(o=e.CRH())&&(n.inputQuotation=o.first)}},decls:90,vars:17,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","for-respo-devices-rod","justify-content-between","mr-70"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],[1,"add-work-order"],[1,"container-fluid"],[1,"row"],[1,"col-md-6"],[1,"input-style","add-work","mb-2"],[1,"select-box"],[1,"form-group"],[1,"d-block"],[1,"text-danger"],["placeholder","Change Action",1,"ctm-input","bg-white",3,"change"],["value","select","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","flex-wrap"],["class","fiels-ctm",4,"ngFor","ngForOf"],[1,"col-md-6","mb-2"],[1,"form-group","position-relative",3,"focusout"],["type","text","placeholder","Customer",1,"ctm-input","type-input","customer-input",3,"ngModel","input","focus","ngModelChange"],["class","custom-dropdown-list",4,"ngIf"],["name","search",1,"input-icon"],["class","col-md-6",4,"ngIf"],["class","col-md-6 mb-2",4,"ngIf"],["type","text","placeholder","Sales Person",1,"ctm-input","type-input",3,"ngModel","input","focus","ngModelChange"],["type","text","placeholder","Scheduler",1,"ctm-input","type-input",3,"ngModel","input","focus","ngModelChange"],["type","text","placeholder","Add contract name","name","contract",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Add customer order","name","order_number",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Add location","name","location",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],[1,"col-md-12"],[1,"btns-add-work"],["href","javascript:void(0)",1,"discard-btn",3,"click"],["href","javascript:void(0)",1,"add-btn",3,"click"],[3,"value"],[1,"fiels-ctm"],["name","X",1,"remove-product",3,"click"],[1,"custom-dropdown-list"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"type-pass"],["type","text","readonly","","placeholder","Sage Customer Id",1,"ctm-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Search Sage Customer",1,"ctm-input","type-input",3,"ngModel","input","focus","ngModelChange"],[1,"add-scroll"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),e._uU(6,"ROD"),e.qZA()(),e.TgZ(7,"li",4)(8,"a",5),e._uU(9,"ADD"),e.qZA()(),e.TgZ(10,"li",4)(11,"a",6),e._uU(12),e.ALo(13,"date"),e.qZA()()()(),e.TgZ(14,"div",7)(15,"div",8)(16,"div",9)(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",13)(21,"label",14),e._uU(22,"Product"),e.TgZ(23,"span",15),e._uU(24,"*"),e.qZA()(),e.TgZ(25,"select",16),e.NdJ("change",function(i){return n.selectProduct(i)}),e.TgZ(26,"option",17),e._uU(27,"Select Product"),e.qZA(),e.YNc(28,N,2,2,"option",18),e.qZA()()(),e.TgZ(29,"div",19),e.YNc(30,q,3,1,"span",20),e.qZA()()(),e.TgZ(31,"div",21)(32,"div",11)(33,"div",12)(34,"div",22),e.NdJ("focusout",function(){return n.customerInputOut()}),e.TgZ(35,"label",14),e._uU(36,"Customers"),e.TgZ(37,"span",15),e._uU(38,"*"),e.qZA()(),e.TgZ(39,"input",23),e.NdJ("input",function(i){return n.searchCustomer(i)})("focus",function(){return n.customerInput=!0})("ngModelChange",function(i){return n.customerName=i}),e.qZA(),e.YNc(40,J,5,1,"div",24),e._UZ(41,"i-feather",25),e.qZA()()()(),e.YNc(42,D,6,1,"div",26),e.YNc(43,Q,9,2,"div",27),e.qZA(),e.TgZ(44,"div",9)(45,"div",21)(46,"div",11)(47,"div",12)(48,"div",22),e.NdJ("focusout",function(){return n.employeeInputOut()}),e.TgZ(49,"label",14),e._uU(50,"Sales Person"),e.TgZ(51,"span",15),e._uU(52,"*"),e.qZA()(),e.TgZ(53,"input",28),e.NdJ("input",function(i){return n.searchSalePerson(i)})("focus",function(){return n.employeeInput=!0})("ngModelChange",function(i){return n.employeeName=i}),e.qZA(),e.YNc(54,F,3,1,"div",24),e._UZ(55,"i-feather",25),e.qZA()()()(),e.TgZ(56,"div",21)(57,"div",11)(58,"div",12)(59,"div",22),e.NdJ("focusout",function(){return n.schedulerInputOut()}),e.TgZ(60,"label",14),e._uU(61,"Scheduler"),e.qZA(),e.TgZ(62,"input",29),e.NdJ("input",function(i){return n.searchEmployee(i)})("focus",function(){return n.schedulerInput=!0})("ngModelChange",function(i){return n.scheduler=i}),e.qZA(),e.YNc(63,E,3,1,"div",24),e._UZ(64,"i-feather",25),e.qZA()()()(),e.TgZ(65,"div",10)(66,"div",11)(67,"label",14),e._uU(68," Contract Name"),e.TgZ(69,"span",15),e._uU(70,"*"),e.qZA()(),e.TgZ(71,"input",30),e.NdJ("ngModelChange",function(i){return n.workOrder.contract=i}),e.qZA()()(),e.TgZ(72,"div",10)(73,"div",11)(74,"label",14),e._uU(75," Customer Order#"),e.qZA(),e.TgZ(76,"input",31),e.NdJ("ngModelChange",function(i){return n.workOrder.order_number=i}),e.qZA()()(),e.TgZ(77,"div",10)(78,"div",11)(79,"label",14),e._uU(80," Location"),e.TgZ(81,"span",15),e._uU(82,"*"),e.qZA()(),e.TgZ(83,"input",32),e.NdJ("ngModelChange",function(i){return n.workOrder.location=i}),e.qZA()()(),e.TgZ(84,"div",33)(85,"div",34)(86,"a",35),e.NdJ("click",function(){return n.cancel()}),e._uU(87,"Discard"),e.qZA(),e.TgZ(88,"a",36),e.NdJ("click",function(){return n.addSalesOrder()}),e._uU(89,"Add"),e.qZA()()()()()()()()),2&t&&(e.xp6(12),e.hij("Week ",e.xi3(13,14,n.dateToday,"ww"),""),e.xp6(16),e.Q6J("ngForOf",n.products),e.xp6(2),e.Q6J("ngForOf",n.selectedProducts),e.xp6(9),e.Q6J("ngModel",n.customerName),e.xp6(1),e.Q6J("ngIf",n.customerInput),e.xp6(2),e.Q6J("ngIf",n.customerName),e.xp6(1),e.Q6J("ngIf",n.showSageSearch),e.xp6(10),e.Q6J("ngModel",n.employeeName),e.xp6(1),e.Q6J("ngIf",n.employeeInput),e.xp6(8),e.Q6J("ngModel",n.scheduler),e.xp6(1),e.Q6J("ngIf",n.schedulerInput),e.xp6(8),e.Q6J("ngModel",n.workOrder.contract),e.xp6(5),e.Q6J("ngModel",n.workOrder.order_number),e.xp6(7),e.Q6J("ngModel",n.workOrder.location))},directives:[l.YN,l.Kr,_.sg,b.u,l.Fj,l.JJ,l.On,_.O5],pipes:[_.uU],styles:['.add-work-order[_ngcontent-%COMP%]{width:100%;background:#fff;border-top-left-radius:2rem;border-bottom-left-radius:2rem;box-shadow:0 10px 30px #00000029;padding:3.5rem 1rem;margin-bottom:3rem}.input-style[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.4rem;line-height:2rem;position:relative;top:1px;padding:0 .5rem}.add-work.input-style[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#1c1c1c;margin-bottom:1rem}.add-work[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .red-label[_ngcontent-%COMP%]{color:#ccc}.add-work[_ngcontent-%COMP%]   .ctm-textarea[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:400;color:#656565;min-height:15.5rem;border-radius:.8rem;width:100%;outline:none;border:none;border:1px solid #E8E8E8;padding:1.5rem 2rem}.add-work[_ngcontent-%COMP%]   .ctm-textarea[_ngcontent-%COMP%]::placeholder{font-weight:300;color:#656565}.add-work[_ngcontent-%COMP%]   .input-rigister[_ngcontent-%COMP%]   .custom-btn[_ngcontent-%COMP%]{background:#fff;width:100%;height:5.5rem;font-size:1.4rem;font-weight:700;overflow:hidden;min-height:5.5rem;display:flex;color:#150000;padding-left:1.6rem;align-items:center;border:1px solid #E8E8E8;border-radius:.8rem;position:relative}.add-work[_ngcontent-%COMP%]   .input-rigister[_ngcontent-%COMP%]   .custom-btn[_ngcontent-%COMP%]:hover   .search-position-modal[_ngcontent-%COMP%]   .search-icon-bar[_ngcontent-%COMP%]{color:#dc0100}.add-work[_ngcontent-%COMP%]   .search-position-modal[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);right:1.6rem}.add-work[_ngcontent-%COMP%]   .search-position-modal[_ngcontent-%COMP%]   .search-icon-bar[_ngcontent-%COMP%]{color:#ccc;cursor:pointer;width:2.4rem}.add-work[_ngcontent-%COMP%]   .search-position-modal[_ngcontent-%COMP%]   .search-icon-bar[_ngcontent-%COMP%]:hover{color:#dc0100}.add-work[_ngcontent-%COMP%]   .input-rigister[_ngcontent-%COMP%]   .drop-bottom[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.add-work[_ngcontent-%COMP%]   .input-rigister[_ngcontent-%COMP%]   .contc[_ngcontent-%COMP%]{width:100%;margin-top:0}.add-work[_ngcontent-%COMP%]   .input-rigister[_ngcontent-%COMP%]   .ul-list-modal[_ngcontent-%COMP%]{border-radius:0;overflow:auto;margin-bottom:0}.add-work[_ngcontent-%COMP%]   .input-rigister[_ngcontent-%COMP%]   .ul-list-modal[_ngcontent-%COMP%]   .items-list-links[_ngcontent-%COMP%]{transition:ease-in-out .5s}.add-work[_ngcontent-%COMP%]   .input-rigister[_ngcontent-%COMP%]   .ul-list-modal[_ngcontent-%COMP%]   .items-list-links[_ngcontent-%COMP%]:hover{background:#DC0100;transition:ease-in-out .5s}.add-work[_ngcontent-%COMP%]   .input-rigister[_ngcontent-%COMP%]   .ul-list-modal[_ngcontent-%COMP%]   .items-list-links[_ngcontent-%COMP%]:hover   .link-list-hover[_ngcontent-%COMP%], .add-work[_ngcontent-%COMP%]   .input-rigister[_ngcontent-%COMP%]   .ul-list-modal[_ngcontent-%COMP%]   .items-list-links[_ngcontent-%COMP%]:hover   .link-list-hover[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.add-work[_ngcontent-%COMP%]   .input-rigister[_ngcontent-%COMP%]   .ul-list-modal[_ngcontent-%COMP%]   .items-list-links[_ngcontent-%COMP%]   .link-list-hover[_ngcontent-%COMP%]{font-size:1.1rem;color:#150000;font-weight:700;transition:ease-in-out .5s;padding:1rem 1.6rem;display:block}.add-work[_ngcontent-%COMP%]   .input-rigister[_ngcontent-%COMP%]   .ul-list-modal[_ngcontent-%COMP%]   .items-list-links[_ngcontent-%COMP%]   .link-list-hover[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{width:1.6rem}.add-work[_ngcontent-%COMP%]   .input-rigister[_ngcontent-%COMP%]   .ul-list-modal[_ngcontent-%COMP%]   .items-list-links[_ngcontent-%COMP%]   .link-list-hover[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#939393;font-weight:400}.d-flex-percentage[_ngcontent-%COMP%]{display:flex;align-items:center}.d-flex-percentage[_ngcontent-%COMP%]   .input-style.add-work[_ngcontent-%COMP%]{width:87%;min-width:87%}@media (max-width: 1600px){.d-flex-percentage[_ngcontent-%COMP%]   .input-style.add-work[_ngcontent-%COMP%]{width:100%;min-width:90%}}@media (max-width: 1199px){.d-flex-percentage[_ngcontent-%COMP%]   .input-style.add-work[_ngcontent-%COMP%]{min-width:83%}}@media (max-width: 768px){.d-flex-percentage[_ngcontent-%COMP%]   .input-style.add-work[_ngcontent-%COMP%]{min-width:75%}}.add-scroll[_ngcontent-%COMP%]{max-height:250px}.d-flex-percentage[_ngcontent-%COMP%]   .custom-check[_ngcontent-%COMP%]{padding-left:0rem;position:unset;margin-right:2rem}.d-flex-percentage[_ngcontent-%COMP%]   .custom-check[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{height:2.6rem;width:2.6rem;position:relative;display:inline-block;left:unset;top:0}.d-flex-percentage[_ngcontent-%COMP%]   .custom-check[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:.8rem;top:.2rem}.icons-per[_ngcontent-%COMP%]{margin-left:1rem}.col-fixed[_ngcontent-%COMP%]{color:#dc0100;width:2.4rem;font-size:2.4rem}.total-add-work[_ngcontent-%COMP%]{width:200px;min-width:200px;padding:1rem;display:flex;align-items:center;justify-content:center;height:5.5rem;color:#000;border-radius:1.2rem;border:2px solid #DC0100;font-size:2rem;font-weight:500;cursor:pointer}.toral-val[_ngcontent-%COMP%]   .input-style[_ngcontent-%COMP%]   .ctm-input[_ngcontent-%COMP%]{color:#1c1c1c;font-weight:700;width:200px;min-width:200px}.toral-val[_ngcontent-%COMP%]   .input-style[_ngcontent-%COMP%]   .ctm-input[_ngcontent-%COMP%]::placeholder{color:#1c1c1c;font-weight:700}.input-style.add-work[_ngcontent-%COMP%]   .import-box[_ngcontent-%COMP%]{display:flex;align-items:center}.input-style.add-work[_ngcontent-%COMP%]   .import-box[_ngcontent-%COMP%]   .import-icon[_ngcontent-%COMP%]{width:5.5rem;height:5.5rem;border:1px solid #E0E0E0;border-radius:1.2rem;background:#fff;display:flex;align-items:center;justify-content:center;padding:5px}.input-style.add-work[_ngcontent-%COMP%]   .import-box[_ngcontent-%COMP%]   .import-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:3.2rem}.input-style.add-work[_ngcontent-%COMP%]   .import-box[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]{margin-left:2.5rem}.input-style.add-work[_ngcontent-%COMP%]   .import-box[_ngcontent-%COMP%]   .custom-check[_ngcontent-%COMP%]{padding-left:0;padding-right:0rem;margin-bottom:0}.input-style.add-work[_ngcontent-%COMP%]   .import-box[_ngcontent-%COMP%]   .custom-check[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{width:2.6rem;height:2.6rem;left:45px;top:8px;display:inline-block}@media (max-width: 1370px){.input-style.add-work[_ngcontent-%COMP%]   .import-box[_ngcontent-%COMP%]   .custom-check[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{top:-1px}}.input-style.add-work[_ngcontent-%COMP%]   .import-box[_ngcontent-%COMP%]   .custom-check[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:.8rem;top:.2rem}.btns-add-work[_ngcontent-%COMP%]{margin-top:1rem;display:flex;align-items:center;justify-content:center}.btns-add-work[_ngcontent-%COMP%]   .btns-work-dis[_ngcontent-%COMP%]{width:33.6rem;height:7rem;padding:1rem;display:flex;align-items:center;justify-content:center;border-radius:.8rem;border:none;font-size:2rem;color:#656565;font-weight:700}.btns-add-work[_ngcontent-%COMP%]   .btns-work-dis[_ngcontent-%COMP%]:last-child{margin-left:1.6rem}.btns-add-work[_ngcontent-%COMP%]   .btns-work-dis[_ngcontent-%COMP%]:hover{background:#DC0100;color:#fff;transition:ease-in-out .3s}.btn-address[_ngcontent-%COMP%]{height:5.5rem;border-radius:.7rem;background:#DC0100;font-size:1.2rem;font-weight:700;text-transform:capitalize;outline:none;border:none;width:6.7rem;min-width:6.7rem;color:#fff;transition:ease-in-out .4s;display:flex;align-items:center;justify-content:center;margin-left:1rem;margin-top:3rem}.btn-address[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{padding-right:0}.btn-address[_ngcontent-%COMP%]:hover{background:#6ECE57;transition:ease-in-out .4s;color:#fff}@media (max-width: 1370px){.btn-address[_ngcontent-%COMP%]{height:5.5rem}}.fiels-ctm[_ngcontent-%COMP%]{padding:3px 10px;border-radius:15px;background:#DC0100;color:#fff;display:flex;align-items:center;justify-content:center;margin-right:4px;margin-top:4px}.fiels-ctm[_ngcontent-%COMP%]   .plus-rotate[_ngcontent-%COMP%]{stroke-width:1px;transform:rotate(45deg);width:3rem}.modal-items-flex[_ngcontent-%COMP%]   .search-bar-ctm[_ngcontent-%COMP%]   .input-style[_ngcontent-%COMP%]   .type-pass[_ngcontent-%COMP%]   .ctm-input[_ngcontent-%COMP%]{background:transparent}.modal-items-flex[_ngcontent-%COMP%]   .search-bar-ctm[_ngcontent-%COMP%]{width:100%;margin-bottom:0rem}.modal-items-flex[_ngcontent-%COMP%]   .search-bar-ctm[_ngcontent-%COMP%]   .type-pass[_ngcontent-%COMP%]{position:relative;z-index:999}.modal-items-flex[_ngcontent-%COMP%]   .search-bar-ctm[_ngcontent-%COMP%]   .type-pass[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#fff;border-radius:1rem;margin-bottom:0;min-width:160px;width:100%;overflow:auto;box-shadow:0 3px 6px #00000029;z-index:1;height:30rem}.modal-items-flex[_ngcontent-%COMP%]   .search-bar-ctm[_ngcontent-%COMP%]   .type-pass[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.modal-items-flex[_ngcontent-%COMP%]   .search-bar-ctm[_ngcontent-%COMP%]   .type-pass[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.modal-items-flex[_ngcontent-%COMP%]   .search-bar-ctm[_ngcontent-%COMP%]   .type-pass[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#DC0100}.modal-items-flex[_ngcontent-%COMP%]   .search-bar-ctm[_ngcontent-%COMP%]   .type-pass[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.modal-items-flex[_ngcontent-%COMP%]   .search-bar-ctm[_ngcontent-%COMP%]   .type-pass[_ngcontent-%COMP%]   .dropdown-content.show[_ngcontent-%COMP%]{display:block}.modal-items-flex[_ngcontent-%COMP%]   .search-bar-ctm[_ngcontent-%COMP%]   .type-pass[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .list-ctm-drop[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:1rem 1.6rem;width:100%;color:#150000;font-size:1.4rem;font-weight:400;transition:ease-in-out .4s}.modal-items-flex[_ngcontent-%COMP%]   .search-bar-ctm[_ngcontent-%COMP%]   .type-pass[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .list-ctm-drop[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;background:#DC0100}.modal-items-flex[_ngcontent-%COMP%]   .search-bar-ctm[_ngcontent-%COMP%]   .input-style[_ngcontent-%COMP%]{width:100%}.modal-items-flex[_ngcontent-%COMP%]   .search-bar-ctm[_ngcontent-%COMP%]   .login-input[_ngcontent-%COMP%]   .input-style[_ngcontent-%COMP%]   .ctm-input[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:400;color:#656565;font-style:normal;padding-left:0;background:transparent}.modal-items-flex[_ngcontent-%COMP%]   .search-bar-ctm[_ngcontent-%COMP%]   .input-style[_ngcontent-%COMP%]   .type-pass[_ngcontent-%COMP%]   .icon-eye[_ngcontent-%COMP%]{height:4.8rem}.modal-items-flex[_ngcontent-%COMP%]   .search-bar-ctm[_ngcontent-%COMP%]   .input-style[_ngcontent-%COMP%]   .type-pass[_ngcontent-%COMP%]:after{position:absolute;display:block;content:"";width:6px;height:6px;top:50%;right:2rem;margin-top:-3px;border-bottom:1px solid #000;border-right:1px solid #000;transform:rotate(45deg) translateY(-50%);transition:all .2s ease-in-out;transform-origin:50% 0;z-index:-1}.input-style[_ngcontent-%COMP%]   .ctm-input[_ngcontent-%COMP%]:disabled{background:#f8f8f8}.manual-invoice[_ngcontent-%COMP%]{margin:0;align-items:center}.import-icon-div[_ngcontent-%COMP%]{margin-left:15px}.import-text[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;color:#1c1c1c;margin-left:10px}']}),r})();var y=c(629),O=c(6186),v=c(7051);function j(r,a){1&r&&(e.TgZ(0,"li",5)(1,"a",84),e._uU(2,"NEW DELIVERY TICKET"),e.qZA()())}function z(r,a){if(1&r&&(e.TgZ(0,"li",5)(1,"a",84),e._uU(2),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.hij("UPDATE DELIVERY TICKET (",t.currentDeliveryNote.ticket_no,")")}}function W(r,a){1&r&&(e.TgZ(0,"button",85),e._uU(1,"Print"),e.qZA())}function L(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",86),e.NdJ("click",function(){return e.CHM(t),e.oxw().addDeliveryNote()}),e._uU(1," Save"),e.qZA()}}function $(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",86),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateDeliveryNote()}),e._uU(1," Update"),e.qZA()}}function B(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",87),e.NdJ("click",function(){return e.CHM(t),e.oxw().resetFormValue()}),e._uU(1," New Dispatch Order"),e.qZA()}}const M=function(r){return{active:r}};function V(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",88)(1,"ul",89)(2,"li",90),e._uU(3),e.qZA(),e.TgZ(4,"li",91),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"li",92)(8,"a",93),e.NdJ("click",function(){const i=e.CHM(t).$implicit,s=e.oxw();return s.currentDeliveryNote=s.deliveryOrder=i,s.selectDate()}),e._uU(9,"View"),e.qZA()()()()}if(2&r){const t=a.$implicit,n=e.oxw();e.xp6(2),e.Q6J("ngClass",e.VKq(7,M,t.id==(null==n.currentDeliveryNote?null:n.currentDeliveryNote.id))),e.xp6(1),e.Oqu(t.ticket_no),e.xp6(2),e.Oqu(e.xi3(6,4,t.dispatch_date,"dd/MM/yyyy")),e.xp6(2),e.Q6J("ngClass",e.VKq(9,M,t.id==(null==n.currentDeliveryNote?null:n.currentDeliveryNote.id)))}}function K(r,a){if(1&r&&(e.TgZ(0,"span",156)(1,"span",157),e._uU(2),e.qZA()()),2&r){const t=a.$implicit;e.xp6(2),e.Oqu(t.work_number)}}function G(r,a){1&r&&(e.TgZ(0,"span",158),e._uU(1,"\u2713"),e.qZA())}function X(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",94)(1,"table",95)(2,"tr",96)(3,"th"),e._UZ(4,"img",97),e.qZA(),e.TgZ(5,"th"),e._UZ(6,"img",98),e.qZA()(),e.TgZ(7,"tr")(8,"td")(9,"p",99),e._uU(10,"Flush Doors, Doorsets & Joinery Manufacturers "),e.qZA(),e.TgZ(11,"p",100)(12,"a",101),e._uU(13,"www.humphreystretton.com"),e.qZA()(),e.TgZ(14,"p",102)(15,"a",103),e._uU(16,"enquries@humphreystretton.com"),e.qZA()(),e.TgZ(17,"p",104)(18,"a",101),e._uU(19,"01992 462965"),e.qZA()()()()(),e.TgZ(20,"table",105)(21,"tr",106)(22,"th",107)(23,"div",108),e._UZ(24,"img",109)(25,"img",110)(26,"img",111),e.qZA()()(),e.TgZ(27,"tr")(28,"td")(29,"p",112),e._uU(30,"Humphrey & Stretton plc "),e.qZA(),e.TgZ(31,"p",112),e._uU(32,"Pindar Road Industrial Estate "),e.qZA(),e.TgZ(33,"p",112),e._uU(34,"Hoddesdon "),e.qZA(),e.TgZ(35,"p",112),e._uU(36,"Hertfordshire "),e.qZA(),e.TgZ(37,"p",112),e._uU(38,"EN11 0EU "),e.qZA()()()(),e.TgZ(39,"table",113)(40,"tr")(41,"th",114)(42,"div",115)(43,"label",116),e._uU(44,"Invoice to: "),e.TgZ(45,"span",117),e._uU(46),e.qZA()()()(),e.TgZ(47,"th",118)(48,"label",116),e._uU(49,"Ticket No: "),e.TgZ(50,"span",117),e._uU(51),e.qZA()()()(),e.TgZ(52,"tr")(53,"td",114)(54,"table",31)(55,"tr")(56,"td",32)(57,"span",119),e._uU(58),e.qZA()()(),e.TgZ(59,"tr")(60,"td",32)(61,"span",119),e._uU(62),e.qZA()()(),e.TgZ(63,"tr")(64,"td",32)(65,"span",119),e._uU(66),e.qZA()()(),e.TgZ(67,"tr")(68,"td",32)(69,"span",119),e._uU(70),e.qZA()()(),e.TgZ(71,"tr")(72,"td",32)(73,"span",119),e._uU(74),e.qZA()()(),e.TgZ(75,"tr")(76,"td",32)(77,"span",119),e._uU(78),e.qZA()()()()(),e.TgZ(79,"td",120)(80,"table",121)(81,"tr")(82,"td",122)(83,"label",116),e._uU(84,"Despatch Date:"),e.TgZ(85,"span",117),e._uU(86),e.ALo(87,"date"),e.qZA()()()(),e.TgZ(88,"tr")(89,"td",122)(90,"label",116),e._uU(91,"Customer Order No."),e.qZA()()(),e.TgZ(92,"tr")(93,"td",122)(94,"input",123),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().deliveryOrder.order_number=o}),e.qZA()()(),e.TgZ(95,"tr")(96,"td",124)(97,"label",116)(98,"span"),e._uU(99,"W/O:"),e.qZA(),e.YNc(100,K,3,1,"span",125),e.qZA()()()()()(),e.TgZ(101,"tr")(102,"td",126)(103,"p",127),e._uU(104,"Only products identified as such on this Delivery note are FSC certified"),e.qZA(),e.TgZ(105,"div",128)(106,"p",129),e._uU(107,"Products FSC \xae CU-COC-806432"),e.qZA(),e.TgZ(108,"div",130),e.YNc(109,G,2,0,"span",131),e.qZA()()()(),e.TgZ(110,"tr")(111,"td",132)(112,"label",116),e._uU(113,"Flush Doors"),e.qZA()(),e.TgZ(114,"td",132)(115,"label",116),e._uU(116,"Frames"),e.qZA()(),e.TgZ(117,"td",132)(118,"label",116),e._uU(119,"Stops"),e.qZA()(),e.TgZ(120,"td",132)(121,"label",116),e._uU(122,"Architraves"),e.qZA()(),e.TgZ(123,"td",132)(124,"label",116),e._uU(125,"Timber "),e._UZ(126,"br"),e._uU(127," Sections"),e.qZA()(),e.TgZ(128,"td",132)(129,"label",116),e._uU(130,"Hinges"),e.qZA()(),e.TgZ(131,"td",132)(132,"label",116),e._uU(133,"Glass Pcs"),e.qZA()(),e.TgZ(134,"td",132)(135,"label",116),e._uU(136,"Glazing "),e._UZ(137,"br"),e._uU(138," Beads"),e.qZA()(),e.TgZ(139,"td",132)(140,"label",116),e._uU(141,"FD60 "),e._UZ(142,"br"),e._uU(143," Hinge "),e._UZ(144,"br"),e._uU(145," Packers"),e.qZA()()(),e.TgZ(146,"tr")(147,"td",133)(148,"textarea",134),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().deliveryOrder.properties.flush_door=o}),e.qZA()(),e.TgZ(149,"td",133)(150,"textarea",134),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().deliveryOrder.properties.frames=o}),e.qZA()(),e.TgZ(151,"td",133)(152,"textarea",134),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().deliveryOrder.properties.stops=o}),e.qZA()(),e.TgZ(153,"td",133)(154,"textarea",134),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().deliveryOrder.properties.architraves=o}),e.qZA()(),e.TgZ(155,"td",133)(156,"textarea",134),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().deliveryOrder.properties.timber_sections=o}),e.qZA()(),e.TgZ(157,"td",133)(158,"textarea",134),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().deliveryOrder.properties.hinges=o}),e.qZA()(),e.TgZ(159,"td",133)(160,"textarea",134),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().deliveryOrder.properties.glass_pcs=o}),e.qZA()(),e.TgZ(161,"td",133)(162,"textarea",134),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().deliveryOrder.properties.glazing_beads=o}),e.qZA()(),e.TgZ(163,"td",133)(164,"textarea",134),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().deliveryOrder.properties.hinge_packers=o}),e.qZA()()()(),e.TgZ(165,"p",135),e._uU(166," Fire and Acoustic Seals in 2.1m Lengths "),e.qZA(),e.TgZ(167,"table",136)(168,"tr")(169,"td",132)(170,"label",116),e._uU(171,"10 x 4"),e._UZ(172,"br"),e._uU(173,"Intu Strip"),e.qZA()(),e.TgZ(174,"td",132)(175,"label",116),e._uU(176,"10 x 4"),e._UZ(177,"br"),e._uU(178,"Intu"),e._UZ(179,"br"),e._uU(180,"Smoke"),e.qZA()(),e.TgZ(181,"td",132)(182,"label",116),e._uU(183,"15 x 4"),e._UZ(184,"br"),e._uU(185,"Intu Strip"),e.qZA()(),e.TgZ(186,"td",132)(187,"label",116),e._uU(188,"15 x 4"),e._UZ(189,"br"),e._uU(190,"Intu"),e._UZ(191,"br"),e._uU(192,"Smoke "),e.qZA()(),e.TgZ(193,"td",132)(194,"label",116),e._uU(195,"20 x 4"),e._UZ(196,"br"),e._uU(197,"Intu Strip"),e.qZA()(),e.TgZ(198,"td",132)(199,"label",116),e._uU(200,"20 x 4"),e._UZ(201,"br"),e._uU(202,"Intu"),e._UZ(203,"br"),e._uU(204," Smoke"),e.qZA()(),e.TgZ(205,"td",132)(206,"label",116),e._uU(207,"Drop"),e._UZ(208,"br"),e._uU(209,"Down"),e._UZ(210,"br"),e._uU(211,"Seals"),e.qZA()(),e.TgZ(212,"td",132)(213,"label",116),e._uU(214,"Weather"),e._UZ(215,"br"),e._uU(216,"Seals"),e.qZA()()(),e.TgZ(217,"tr")(218,"td",133)(219,"textarea",134),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().deliveryOrder.properties.intu_strip_10_4=o}),e.qZA()(),e.TgZ(220,"td",133)(221,"textarea",134),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().deliveryOrder.properties.intu_smoke_10_4=o}),e.qZA()(),e.TgZ(222,"td",133)(223,"textarea",134),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().deliveryOrder.properties.intu_strip_15_4=o}),e.qZA()(),e.TgZ(224,"td",133)(225,"textarea",134),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().deliveryOrder.properties.intu_smoke_15_4=o}),e.qZA()(),e.TgZ(226,"td",133)(227,"textarea",134),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().deliveryOrder.properties.intu_strip_20_4=o}),e.qZA()(),e.TgZ(228,"td",133)(229,"textarea",134),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().deliveryOrder.properties.intu_smoke_20_4=o}),e.qZA()(),e.TgZ(230,"td",133)(231,"textarea",134),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().deliveryOrder.properties.drop_down_seals=o}),e.qZA()(),e.TgZ(232,"td",133)(233,"textarea",134),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().deliveryOrder.properties.weather_seals=o}),e.qZA()()()(),e._UZ(234,"div",137),e.TgZ(235,"table",136)(236,"tr")(237,"th",138)(238,"label",139),e._uU(239,"Site Contact: "),e.TgZ(240,"span",117),e._uU(241),e.qZA()()(),e.TgZ(242,"th",138)(243,"label",139),e._uU(244,"Site Number: "),e.TgZ(245,"span",117),e._uU(246),e.qZA()()()()(),e._UZ(247,"div",137),e.TgZ(248,"table",136)(249,"tr")(250,"th",140)(251,"label",141),e._uU(252,"Other / Notes"),e.qZA()()(),e.TgZ(253,"tr")(254,"td",140)(255,"textarea",142),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().deliveryOrder.other_notes=o}),e.qZA()()()(),e.TgZ(256,"p",135),e._uU(257," STATING UNEXAMINED, UNCHECKED OR SIMILAR WORDS ARE NOT ACCEPTABLE "),e.qZA(),e.TgZ(258,"table",136)(259,"tr")(260,"th",143)(261,"label",144),e._uU(262,"Received by"),e.qZA()(),e.TgZ(263,"th",143)(264,"label",144),e._uU(265,"Load Checked By"),e.qZA()()(),e.TgZ(266,"tr")(267,"td",145)(268,"div",146)(269,"label",147),e._uU(270,"Signature:"),e.qZA(),e._UZ(271,"input",148),e.qZA(),e.TgZ(272,"div",149)(273,"label",147),e._uU(274,"Print name:"),e.qZA(),e._UZ(275,"input",148),e.qZA()(),e.TgZ(276,"td",145)(277,"div",146)(278,"label",147),e._uU(279,"Signature:"),e.qZA(),e._UZ(280,"input",148),e.qZA(),e.TgZ(281,"div",149)(282,"label",147),e._uU(283,"Print name:"),e.qZA(),e._UZ(284,"input",148),e.qZA()()()(),e.TgZ(285,"table",150)(286,"tr",151)(287,"th",151)(288,"p",152),e._uU(289,"Our paper tape, door bags and cardboard door boxes are now fully recyclable. These are some of our steps in reducing our environmental impact \u2013 see "),e.TgZ(290,"span",153)(291,"span",154),e._uU(292,"more at "),e.qZA(),e.TgZ(293,"a",155),e._uU(294,"www.humphreystretton.com/eco"),e.qZA(),e._uU(295," . All goods are sold subject to our usual Terms & Conditions of sale including \u201cGoods are not tested or sold as fit for any particular purpose. Any term warranty or conditions express implied or statutory to the contrary is excluded. In no circumstances whatsoever shall seller\u2019s liability (in contract tort or otherwise) to the buyer arising under out of or in connection with this contract or the goods supplied exceed the invoice price of the particular piece(s) in regard to which complaint is made.\u201d Our Terms & Conditions can be found at www.humphreystretton.com/terms "),e.qZA()()()()()()}if(2&r){const t=e.oxw();e.xp6(46),e.Oqu(null==t.workOrder?null:t.workOrder.customer.name),e.xp6(5),e.Oqu(t.deliveryOrder.ticket_no),e.xp6(7),e.Oqu(t.deliveryOrder.del_name),e.xp6(4),e.Oqu(t.deliveryOrder.del_address_1_street),e.xp6(4),e.Oqu(t.deliveryOrder.del_address_2_town),e.xp6(4),e.Oqu(t.deliveryOrder.del_address_3_city),e.xp6(4),e.Oqu(t.deliveryOrder.del_address_4_country),e.xp6(4),e.Oqu(t.deliveryOrder.del_address_5_postal_code),e.xp6(8),e.Oqu(e.xi3(87,32,t.deliveryOrder.dispatch_date,"dd/MM/yyyy")),e.xp6(8),e.Q6J("ngModel",t.deliveryOrder.order_number),e.xp6(6),e.Q6J("ngForOf",t.deliveryOrder.work_orders),e.xp6(9),e.Q6J("ngIf",t.deliveryOrder.fsc),e.xp6(39),e.Q6J("ngModel",t.deliveryOrder.properties.flush_door),e.xp6(2),e.Q6J("ngModel",t.deliveryOrder.properties.frames),e.xp6(2),e.Q6J("ngModel",t.deliveryOrder.properties.stops),e.xp6(2),e.Q6J("ngModel",t.deliveryOrder.properties.architraves),e.xp6(2),e.Q6J("ngModel",t.deliveryOrder.properties.timber_sections),e.xp6(2),e.Q6J("ngModel",t.deliveryOrder.properties.hinges),e.xp6(2),e.Q6J("ngModel",t.deliveryOrder.properties.glass_pcs),e.xp6(2),e.Q6J("ngModel",t.deliveryOrder.properties.glazing_beads),e.xp6(2),e.Q6J("ngModel",t.deliveryOrder.properties.hinge_packers),e.xp6(55),e.Q6J("ngModel",t.deliveryOrder.properties.intu_strip_10_4),e.xp6(2),e.Q6J("ngModel",t.deliveryOrder.properties.intu_smoke_10_4),e.xp6(2),e.Q6J("ngModel",t.deliveryOrder.properties.intu_strip_15_4),e.xp6(2),e.Q6J("ngModel",t.deliveryOrder.properties.intu_smoke_15_4),e.xp6(2),e.Q6J("ngModel",t.deliveryOrder.properties.intu_strip_20_4),e.xp6(2),e.Q6J("ngModel",t.deliveryOrder.properties.intu_smoke_20_4),e.xp6(2),e.Q6J("ngModel",t.deliveryOrder.properties.drop_down_seals),e.xp6(2),e.Q6J("ngModel",t.deliveryOrder.properties.weather_seals),e.xp6(8),e.Oqu(t.deliveryOrder.site_contact),e.xp6(5),e.Oqu(t.deliveryOrder.site_number),e.xp6(9),e.Q6J("ngModel",t.deliveryOrder.other_notes)}}function ee(r,a){if(1&r&&(e.TgZ(0,"option",159),e._uU(1),e.qZA()),2&r){const t=a.$implicit,n=a.index,o=e.oxw();e.Q6J("value",n)("hidden",o.checkSelectedOrder(t.id)),e.xp6(1),e.Oqu(t.work_number)}}function te(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"i-feather",162),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index;return e.oxw().removeOrder(o)}),e.qZA()()}}function ne(r,a){if(1&r&&(e.TgZ(0,"span",160),e._uU(1),e.YNc(2,te,2,0,"span",161),e.qZA()),2&r){const t=a.$implicit,n=e.oxw();e.xp6(1),e.hij(" ",t.work_number," "),e.xp6(1),e.Q6J("ngIf",t.id!=n.workOrder.id)}}function oe(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",86),e.NdJ("click",function(){return e.CHM(t),e.oxw().addDeliveryNote()}),e._uU(1," Save"),e.qZA()}}function re(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",86),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateDeliveryNote()}),e._uU(1," Update"),e.qZA()}}const ie=function(){return{isAnimated:!0,adaptivePosition:!0,dateInputFormat:"DD / MM / YYYY",containerClass:"theme-red"}};let ae=(()=>{class r{constructor(t,n,o,i,s,d,p){this._rod=t,this.helper=n,this.route=o,this.router=i,this.datePipe=s,this._location=d,this._auth=p,this.customerOrders=[],this.deliveryNotes=[],this.deliveryOrder={invoice_to:"dummy",del_name:"",del_address_1_street:"",del_address_2_town:"",del_address_3_city:"",del_address_4_country:"",del_address_5_postal_code:"",ticket_no:"",dispatch_date:"",fsc:!1,order_number:"",properties:{flush_door:"",frames:"",linings:"",stops:"",architraves:"",timber_sections:"",hinges:"",glass_pcs:"",glazing_beads:"",hinge_packers:"",intu_strip_10_4:"",intu_smoke_10_4:"",intu_strip_15_4:"",intu_smoke_15_4:"",intu_strip_20_4:"",intu_smoke_20_4:"",drop_down_seals:"",weather_seals:""},work_orders:[],site_contact:"",site_number:"",other_notes:""},this.selectedDate=new Date,this.dateToday=new Date,this.newDeliveryTicketNo="",this.route.params.subscribe(u=>{this.getWorkOrder(u.id),this.getDeliveryNotes(u.id),this.getTicketNo()}),this.currentDate=this.datePipe.transform(new Date,"yyyy-MM-dd")}getTicketNo(){this._rod.getTicketNo().subscribe(t=>{this.newDeliveryTicketNo=this.deliveryOrder.ticket_no=t.data})}getWorkOrder(t){this._rod.getWorkOrder({id:t}).subscribe(n=>{this.workOrder=n.data,this.deliveryOrder.fsc=n.data.fsc,this.deliveryOrder.order_number=n.data.order_number,this.deliveryOrder.work_orders.push({id:n.data.id,work_number:n.data.work_number}),this._rod.getCustomerNumberOrders({order_number:n.data.order_number}).subscribe(o=>{this.customerOrders=o.data})})}getDeliveryNotes(t){this._rod.getDeliveryNotes({work_order_id:t}).subscribe(n=>{this.deliveryNotes=n.data})}ngOnInit(){}addDeliveryNote(){this._rod.addDevliveryNote(this.deliveryOrder).subscribe(t=>{this.router.navigate(["rod"]),this.resetFormValue()})}removeOrder(t){this.deliveryOrder.work_orders.splice(t,1)}addWorkOrder(t){this.deliveryOrder.work_orders.push(t)}selectWorkOrder(t){"select"!=t.target.value&&this.deliveryOrder.work_orders.push(this.customerOrders[t.target.value]),t.target.value="select"}checkSelectedOrder(t){return!!this.deliveryOrder.work_orders.find(n=>n.id==t)}dateValue(t){this.deliveryOrder.dispatch_date=this.datePipe.transform(t,"YYYY-MM-dd")}selectDate(){this.selectedDate=new Date(this.deliveryOrder.dispatch_date)}resetFormValue(){this.selectedDate=new Date,this.deliveryOrder={invoice_to:"dummy",del_name:"",del_address_1_street:"",del_address_2_town:"",del_address_3_city:"",del_address_4_country:"",del_address_5_postal_code:"",ticket_no:this.newDeliveryTicketNo,dispatch_date:"",fsc:this.workOrder.fsc,order_number:this.workOrder.order_number,properties:{flush_door:"",frames:"",linings:"",stops:"",architraves:"",timber_sections:"",hinges:"",glass_pcs:"",glazing_beads:"",hinge_packers:"",intu_strip_10_4:"",intu_smoke_10_4:"",intu_strip_15_4:"",intu_smoke_15_4:"",intu_strip_20_4:"",intu_smoke_20_4:"",drop_down_seals:"",weather_seals:""},work_orders:[{id:this.workOrder.id,work_number:this.workOrder.work_number}],site_contact:"",site_number:"",other_notes:""},this.currentDeliveryNote=null}updateDeliveryNote(){this._rod.updateDeliveryNote(this.deliveryOrder).subscribe(t=>{this.helper.toastSuccess(t.message),this.router.navigate(["rod"])})}redirectBack(){this._location.back()}checkTextAreaLines(t){var o=t.target,i=o.getAttribute("cols"),s=o.value.split("\n");console.log(o,i,s);for(var d=0;d<s.length;d++)if(!(s[d].length<=i)){for(var p=0,u=i;p++<=i;)" "===s[d].charAt(p)&&(u=p);s[d+1]=s[d].substring(u+1)+(s[d+1]||""),s[d]=s[d].substring(0,u)}o.value=s.slice(0,3).join("\n")}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(h.W),e.Y36(f.B),e.Y36(g.gz),e.Y36(g.F0),e.Y36(_.uU),e.Y36(_.Ye),e.Y36(y.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-delivery-note"]],decls:269,vars:50,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","justify-content-between"],[1,"breadcrumb"],["class","breadcrumb-item",4,"ngIf"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link","active"],[1,"d-flex"],[1,"dispatch-table-buttons"],["class","credit-check mr-1","printSectionId","table-pdf","ngxPrint","",4,"ngIf"],["href","javascript:void(0)",1,"disable-btn-dispatch",3,"click"],["class","credit-check mr-1","href","javascript:void(0)",3,"click",4,"ngIf"],["class","secondary-sup","href","javascript:void(0)",3,"click",4,"ngIf"],[1,"Dispatch-mainbox"],[1,"d-flex","dispatch-wrap-for-respo"],[1,"left-order-detail"],[1,"recent-heading"],[1,"ticket-no"],[1,"ticket-date"],["class","dispatch-list",4,"ngFor","ngForOf"],["style","width: 100%;display:none;","id","table-pdf",4,"ngIf"],[1,"daspatch-table"],[1,"table-dis"],["colspan","6",1,"table-head"],[1,"input-setts"],[1,"invoice-label"],["colspan","4",1,"table-head"],["colspan","6",1,"table-data"],["colspan","4",1,"table-data"],["type","text","placeholder","52527","readonly","",1,"text-input",3,"ngModel","ngModelChange"],["colspan","6",1,"table-data",2,"padding","0"],[1,"table-inner"],[1,"table-data-inner"],["type","text","placeholder","Name",1,"text-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Street",1,"text-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Town",1,"text-input",3,"ngModel","ngModelChange"],["type","text","placeholder","City",1,"text-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Country",1,"text-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Postal Code",1,"text-input",3,"ngModel","ngModelChange"],["colspan","4",1,"table-data","table-sec-data"],["type","text","id","start_date","placeholder","Select Date","name","start_date","bsDatepicker","",1,"text-input",3,"bsConfig","bsValue","bsValueChange"],["type","text","placeholder","388",1,"text-input",3,"ngModel","ngModelChange"],[1,"table-data-inner","position-relative","work-order-cell"],[1,"custom-select-work-orders",3,"change"],["value","select"],[3,"value","hidden",4,"ngFor","ngForOf"],[1,"d-flex","flex-wrap"],["class","fiels-ctm",4,"ngFor","ngForOf"],["colspan","10",1,"table-data"],[1,"dispatch-text"],[1,"d-flex","align-items-center","justify-content-between","dispatch-check"],[1,"pro-dispath"],[1,"remember-me"],[1,"custom-check","custom-check-r"],["type","checkbox","name","fsc",3,"checked","ngModel","ngModelChange"],[1,"checkmark"],["colspan","1",1,"table-data"],["colspan","1",1,"table-data","table-height-data",2,"padding","1px"],["placeholder","Add",2,"font-size","12px","font-weight","400","color","#000","margin-bottom","0","border","none","width","100%","height","66px","outline","none","font-family","'Open Sans', sans-serif !important","resize","none","overflow","hidden",3,"ngModel","ngModelChange"],["placeholder","Add","name","frames",2,"font-size","12px","font-weight","400","color","#000","margin-bottom","0","border","none","width","100%","height","66px","outline","none","font-family","'Open Sans', sans-serif !important","resize","none","overflow","hidden",3,"ngModel","ngModelChange"],["placeholder","Add","name","stops",2,"font-size","12px","font-weight","400","color","#000","margin-bottom","0","border","none","width","100%","height","66px","outline","none","font-family","'Open Sans', sans-serif !important","resize","none","overflow","hidden",3,"ngModel","ngModelChange"],["placeholder","Add","name","architraves",2,"font-size","12px","font-weight","400","color","#000","margin-bottom","0","border","none","width","100%","height","66px","outline","none","font-family","'Open Sans', sans-serif !important","resize","none","overflow","hidden",3,"ngModel","ngModelChange"],["placeholder","Add","name","timber_sections",2,"font-size","12px","font-weight","400","color","#000","margin-bottom","0","border","none","width","100%","height","66px","outline","none","font-family","'Open Sans', sans-serif !important","resize","none","overflow","hidden",3,"ngModel","ngModelChange"],["placeholder","Add","name","hinges",2,"font-size","12px","font-weight","400","color","#000","margin-bottom","0","border","none","width","100%","height","66px","outline","none","font-family","'Open Sans', sans-serif !important","resize","none","overflow","hidden",3,"ngModel","ngModelChange"],["placeholder","Add","name","glass_pcs",2,"font-size","12px","font-weight","400","color","#000","margin-bottom","0","border","none","width","100%","height","66px","outline","none","font-family","'Open Sans', sans-serif !important","resize","none","overflow","hidden",3,"ngModel","ngModelChange"],["placeholder","Add","name","glazing_beads",2,"font-size","12px","font-weight","400","color","#000","margin-bottom","0","border","none","width","100%","height","66px","outline","none","font-family","'Open Sans', sans-serif !important","resize","none","overflow","hidden",3,"ngModel","ngModelChange"],["placeholder","Add","name","hinge_packers",2,"font-size","12px","font-weight","400","color","#000","margin-bottom","0","border","none","width","100%","height","66px","outline","none","font-family","'Open Sans', sans-serif !important","resize","none","overflow","hidden",3,"ngModel","ngModelChange"],[1,"dispatch-account"],["placeholder","Add","name","intu_strip_10_4",2,"font-size","12px","font-weight","400","color","#000","margin-bottom","0","border","none","width","100%","height","66px","outline","none","font-family","'Open Sans', sans-serif !important","resize","none","overflow","hidden",3,"ngModel","ngModelChange"],["placeholder","Add","name","intu_smoke_10_4",2,"font-size","12px","font-weight","400","color","#000","margin-bottom","0","border","none","width","100%","height","66px","outline","none","font-family","'Open Sans', sans-serif !important","resize","none","overflow","hidden",3,"ngModel","ngModelChange"],["placeholder","Add","name","intu_strip_15_4",2,"font-size","12px","font-weight","400","color","#000","margin-bottom","0","border","none","width","100%","height","66px","outline","none","font-family","'Open Sans', sans-serif !important","resize","none","overflow","hidden",3,"ngModel","ngModelChange"],["placeholder","Add","name","intu_smoke_15_4",2,"font-size","12px","font-weight","400","color","#000","margin-bottom","0","border","none","width","100%","height","66px","outline","none","font-family","'Open Sans', sans-serif !important","resize","none","overflow","hidden",3,"ngModel","ngModelChange"],["placeholder","Add","name","intu_strip_20_4",2,"font-size","12px","font-weight","400","color","#000","margin-bottom","0","border","none","width","100%","height","66px","outline","none","font-family","'Open Sans', sans-serif !important","resize","none","overflow","hidden",3,"ngModel","ngModelChange"],["placeholder","Add","name","intu_smoke_20_4",2,"font-size","12px","font-weight","400","color","#000","margin-bottom","0","border","none","width","100%","height","66px","outline","none","font-family","'Open Sans', sans-serif !important","resize","none","overflow","hidden",3,"ngModel","ngModelChange"],["placeholder","Add","name","drop_down_seals",2,"font-size","12px","font-weight","400","color","#000","margin-bottom","0","border","none","width","100%","height","66px","outline","none","font-family","'Open Sans', sans-serif !important","resize","none","overflow","hidden",3,"ngModel","ngModelChange"],["placeholder","Add","name","weather_seals",2,"font-size","12px","font-weight","400","color","#000","margin-bottom","0","border","none","width","100%","height","66px","outline","none","font-family","'Open Sans', sans-serif !important","resize","none","overflow","hidden",3,"ngModel","ngModelChange"],[1,"padds-py"],["colspan","5",1,"table-head"],[1,"text-danger-style"],["colspan","5",1,"table-data"],["type","text","placeholder","Contact Name","name","site_contact",1,"text-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Contact Phone Number","name","site_number",1,"text-input",3,"ngModel","ngModelChange"],["colspan","10",1,"table-head"],["rows","10","placeholder","Other / Notes","name","other_notes",1,"ctm-textarea-sec-2",3,"ngModel","ngModelChange"],["href","javascript:void(0)",1,"breadcrumb-link"],["printSectionId","table-pdf","ngxPrint","",1,"credit-check","mr-1"],["href","javascript:void(0)",1,"credit-check","mr-1",3,"click"],["href","javascript:void(0)",1,"secondary-sup",3,"click"],[1,"dispatch-list"],[1,"ticket-no-detail"],[1,"ticket-date-detail",3,"ngClass"],[1,"ticket-d-detail"],[1,"ticket-d-detail",3,"ngClass"],["href","javascript:void(0)",1,"view-dis",3,"click"],["id","table-pdf",2,"width","100%","display","none"],[2,"width","50%","float","left"],[2,"width","100%","display","block"],["src","assets/img/pdf-logo.jpg","alt","logo",2,"height","24px"],["src","assets/img/pdf-logo-2.jpg","alt","logo",2,"height","24px"],[2,"color","#666","font-weight","400","font-size","12px","font-family","'Open Sans', sans-serif !important","margin","0"],[2,"color","#000","font-weight","600","font-size","14px","font-family","'Open Sans', sans-serif !important","margin","0"],["href","#",2,"color","#000","text-decoration","none"],[2,"font-weight","600","font-size","12px","font-family","'Open Sans', sans-serif !important","margin","0"],["href","#",2,"text-decoration","none"],[2,"color","#000","font-weight","500","font-size","10px","font-family","'Open Sans', sans-serif !important","margin","0"],[2,"width","50%","float","right","text-align","end"],[2,"width","100%","text-align","end","float","right"],[2,"width","100%","float","right"],[2,"display","inline-block","float","right"],["src","assets/img/pdf-youtube.png","alt","logo",2,"width","30px","height","30px"],["src","assets/img/pdf-linkedin.png","alt","logo",2,"width","30px","height","30px"],["src","assets/img/pdf-facebook.jpg","alt","logo",2,"width","30px","height","30px"],[2,"color","#000","font-weight","500","font-size","12px","font-family","'Open Sans', sans-serif !important","margin","0"],[2,"width","100%","border-collapse","collapse","border","2px solid black"],["colspan","6",2,"padding","5px 10px","border","2px solid black"],[2,"width","100%","display","inline-block","white-space","nowrap","text-align","left"],[2,"font-size","12px","font-weight","700","color","#000","margin-bottom","0","padding-right","5px","font-family","'Open Sans', sans-serif !important"],[2,"font-weight","400"],["colspan","4",2,"padding","5px 10px","border","2px solid black","text-align","left"],[2,"font-weight","400","font-size","12px"],["colspan","4",2,"padding","0","border","2px solid black"],[2,"width","100%","border-collapse","collapse"],[2,"border-top","none","border-left","none","border-right","none","padding","5px 10px","border-bottom","2px solid black"],["type","text",2,"font-size","13px","font-weight","400","color","#000","margin-bottom","0","border","none","width","100%","outline","none","font-family","'Open Sans', sans-serif !important",3,"ngModel","ngModelChange"],[2,"border-top","none","border-left","none","border-right","none","padding","5px 10px"],["style","padding: 3px 6px;border-radius: 15px;background: #DC0100;color: #fff;margin-right: 4px;display: inline-block;text-align: center;box-sizing: border-box;font-family: 'Open Sans', sans-serif !important;",4,"ngFor","ngForOf"],["colspan","10",2,"padding","5px 10px","border","2px solid black"],[2,"font-size","9px","font-weight","400","color","#000","text-align","center","margin","0","font-family","'Open Sans', sans-serif !important"],[2,"width","60%","margin","5px auto","display","block","text-align","center","vertical-align","middle"],[2,"font-size","13px","font-weight","700","color","#000","display","inline-block","text-align","center","vertical-align","middle","float","left","margin","0 !important","margin-bottom","0px !important","font-family","'Open Sans', sans-serif !important"],[2,"float","right","width","20px","height","20px","text-align","center","border","2px solid #DC0100","border-radius","2px"],["style","color: #DC0100;display: block;font-size: 16px;margin-top: 0px;",4,"ngIf"],["colspan","1",2,"padding","5px 10px","border","2px solid black"],["colspan","1",2,"padding","1px","border","2px solid black"],[2,"font-size","12px","font-weight","400","color","#000","margin-bottom","0","border","none","width","100%","height","66px","outline","none","font-family","'Open Sans', sans-serif !important","resize","none","overflow","hidden",3,"ngModel","ngModelChange"],[2,"font-size","10px","font-weight","700","color","#000","display","block","text-align","center","margin","10px 0","font-family","'Open Sans', sans-serif !important"],[2,"width","100%","border-collapse","collapse","width","100%","border-collapse","collapse"],[2,"padding","5px 0","width","100%"],["colspan","5",2,"padding","3px 10px","border","2px solid black","text-align","left"],[2,"font-size","12px","font-weight","700","color","#000","margin-bottom","0","padding-right","5px","font-family","'Open Sans', sans-serif !important","text-align","left"],["colspan","10",2,"padding","3px 10px","border","2px solid black"],[2,"font-size","12px","font-weight","700","color","#000","margin-bottom","0","padding-right","5px","text-align","start","display","block","font-family","'Open Sans', sans-serif !important"],["rows","12","name","other_notes",2,"font-size","12px","font-weight","400","color","#000","width","100%","overflow-y","auto","border","none","overflow-x","unset","white-space","pre-line","resize","unset","outline","none","font-family","'Open Sans', sans-serif !important",3,"ngModel","ngModelChange"],["colspan","10",2,"padding","3px 10px","border","2px solid black","height","30px","text-align","center"],[2,"font-size","12px","font-weight","700","color","#000","margin-bottom","0","padding-right","5px","text-align","center","display","block","font-family","'Open Sans', sans-serif !important"],["colspan","10",2,"padding","3px 10px","border","2px solid black","height","100px","width","50%"],[2,"width","100%","display","inline-block","white-space","nowrap","margin-bottom","25px"],[2,"font-size","12px","font-weight","700","color","#000","margin-bottom","0","padding-right","5px","font-family","'Open Sans', sans-serif !important","width","25%"],["type","text",2,"border","none","width","75%","font-family","'Open Sans', sans-serif !important","outline","none","border-bottom","1px solid"],[2,"width","100%","display","inline-block","white-space","nowrap"],[2,"width","100%","width","100%","margin","16px 0"],[2,"width","100%"],[2,"font-size","10px","text-align","justify","font-weight","700","color","#90ee90","margin-bottom","0","font-family","'Open Sans', sans-serif !important","display","inline-block"],[2,"font-size","10px","text-align","start","font-weight","700","color","#666","margin-bottom","0","font-family","'Open Sans', sans-serif !important"],[2,"color","#90ee90"],["href","#",2,"color","#140dda"],[2,"padding","3px 6px","border-radius","15px","background","#DC0100","color","#fff","margin-right","4px","display","inline-block","text-align","center","box-sizing","border-box","font-family","'Open Sans', sans-serif !important"],[2,"color","#fff","line-height","14px","font-size","12px"],[2,"color","#DC0100","display","block","font-size","16px","margin-top","0px"],[3,"value","hidden"],[1,"fiels-ctm"],[4,"ngIf"],["name","X",1,"icon-width","w15",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ul",3),e.YNc(4,j,3,0,"li",4),e.YNc(5,z,3,1,"li",4),e.TgZ(6,"li",5)(7,"a",6),e._uU(8),e.ALo(9,"date"),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8),e.YNc(12,W,2,0,"button",9),e.TgZ(13,"a",10),e.NdJ("click",function(){return n.redirectBack()}),e._uU(14," Discard"),e.qZA(),e.YNc(15,L,2,0,"a",11),e.YNc(16,$,2,0,"a",11),e.YNc(17,B,2,0,"a",12),e.qZA()()(),e.TgZ(18,"div",13)(19,"div",14)(20,"div",15)(21,"h1",16),e._uU(22,"Recent Despatch Order List:"),e.qZA(),e.TgZ(23,"ul",17)(24,"li",18),e._uU(25,"Ticket Number"),e.qZA(),e.TgZ(26,"li",18),e._uU(27,"Date"),e.qZA()(),e.YNc(28,V,10,11,"div",19),e.qZA(),e.YNc(29,X,296,35,"div",20),e.TgZ(30,"div",21)(31,"table",22)(32,"tr")(33,"th",23)(34,"div",24)(35,"label",25),e._uU(36,"Invoice to:"),e.qZA()()(),e.TgZ(37,"th",26)(38,"label",25),e._uU(39,"Ticket No."),e.qZA()()(),e.TgZ(40,"tr")(41,"td",27)(42,"label",25),e._uU(43),e.qZA()(),e.TgZ(44,"td",28)(45,"input",29),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.ticket_no=i}),e.qZA()()(),e.TgZ(46,"tr")(47,"td",30)(48,"table",31)(49,"tr")(50,"td",32)(51,"label",25),e._uU(52,"Delivery Address:"),e.qZA()()(),e.TgZ(53,"tr")(54,"td",32)(55,"input",33),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.del_name=i}),e.qZA()()(),e.TgZ(56,"tr")(57,"td",32)(58,"input",34),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.del_address_1_street=i}),e.qZA()()(),e.TgZ(59,"tr")(60,"td",32)(61,"input",35),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.del_address_2_town=i}),e.qZA()()(),e.TgZ(62,"tr")(63,"td",32)(64,"input",36),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.del_address_3_city=i}),e.qZA()()(),e.TgZ(65,"tr")(66,"td",32)(67,"input",37),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.del_address_4_country=i}),e.qZA()()(),e.TgZ(68,"tr")(69,"td",32)(70,"input",38),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.del_address_5_postal_code=i}),e.qZA()()()()(),e.TgZ(71,"td",39)(72,"table",31)(73,"tr")(74,"td",32)(75,"label",25),e._uU(76,"Despatch Date:"),e.qZA()()(),e.TgZ(77,"tr")(78,"td",32)(79,"input",40),e.NdJ("bsValueChange",function(i){return n.dateValue(i)}),e.qZA()()(),e.TgZ(80,"tr")(81,"td",32)(82,"label",25),e._uU(83,"Customer Order No."),e.qZA()()(),e.TgZ(84,"tr")(85,"td",32)(86,"input",41),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.order_number=i}),e.qZA()()(),e.TgZ(87,"tr")(88,"td",32)(89,"label",25),e._uU(90,"W/O:"),e.qZA()()(),e.TgZ(91,"tr")(92,"td",42)(93,"select",43),e.NdJ("change",function(i){return n.selectWorkOrder(i)}),e.TgZ(94,"option",44),e._uU(95,"Select work order"),e.qZA(),e.YNc(96,ee,2,3,"option",45),e.qZA(),e.TgZ(97,"div",46),e.YNc(98,ne,3,2,"span",47),e.qZA()()()()()(),e.TgZ(99,"tr")(100,"td",48)(101,"p",49),e._uU(102,"Only products identified as such on this Delivery note are FSC certified"),e.qZA(),e.TgZ(103,"div",50)(104,"p",51),e._uU(105,"Products FSC \xae CU-COC-806432"),e.qZA(),e.TgZ(106,"div",52)(107,"label",53)(108,"input",54),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.fsc=i}),e.qZA(),e._UZ(109,"span",55),e.qZA()()()()(),e.TgZ(110,"tr")(111,"td",56)(112,"label",25),e._uU(113,"Flush "),e._UZ(114,"br"),e._uU(115," Doors"),e.qZA()(),e.TgZ(116,"td",56)(117,"label",25),e._uU(118,"Frames"),e.qZA()(),e.TgZ(119,"td",56)(120,"label",25),e._uU(121,"Stops"),e.qZA()(),e.TgZ(122,"td",56)(123,"label",25),e._uU(124,"Architraves"),e.qZA()(),e.TgZ(125,"td",56)(126,"label",25),e._uU(127,"Timber "),e._UZ(128,"br"),e._uU(129," Sections"),e.qZA()(),e.TgZ(130,"td",56)(131,"label",25),e._uU(132,"Hinges"),e.qZA()(),e.TgZ(133,"td",56)(134,"label",25),e._uU(135,"Glass Pcs"),e.qZA()(),e.TgZ(136,"td",56)(137,"label",25),e._uU(138,"Glazing "),e._UZ(139,"br"),e._uU(140," Beads"),e.qZA()(),e.TgZ(141,"td",56)(142,"label",25),e._uU(143,"FD60 "),e._UZ(144,"br"),e._uU(145," Hinge "),e._UZ(146,"br"),e._uU(147," Packers"),e.qZA()()(),e.TgZ(148,"tr")(149,"td",57)(150,"textarea",58),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.properties.flush_door=i}),e.qZA()(),e.TgZ(151,"td",57)(152,"textarea",59),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.properties.frames=i}),e.qZA()(),e.TgZ(153,"td",57)(154,"textarea",60),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.properties.stops=i}),e.qZA()(),e.TgZ(155,"td",57)(156,"textarea",61),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.properties.architraves=i}),e.qZA()(),e.TgZ(157,"td",57)(158,"textarea",62),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.properties.timber_sections=i}),e.qZA()(),e.TgZ(159,"td",57)(160,"textarea",63),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.properties.hinges=i}),e.qZA()(),e.TgZ(161,"td",57)(162,"textarea",64),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.properties.glass_pcs=i}),e.qZA()(),e.TgZ(163,"td",57)(164,"textarea",65),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.properties.glazing_beads=i}),e.qZA()(),e.TgZ(165,"td",57)(166,"textarea",66),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.properties.hinge_packers=i}),e.qZA()()()(),e.TgZ(167,"p",67),e._uU(168," Fire and Acoustic Seals in 2.1m Lengths "),e.qZA(),e.TgZ(169,"table",22)(170,"tr")(171,"td",56)(172,"label",25),e._uU(173,"10 x 4"),e._UZ(174,"br"),e._uU(175,"Intu Strip"),e.qZA()(),e.TgZ(176,"td",56)(177,"label",25),e._uU(178,"10 x 4"),e._UZ(179,"br"),e._uU(180,"Intu"),e._UZ(181,"br"),e._uU(182,"Smoke"),e.qZA()(),e.TgZ(183,"td",56)(184,"label",25),e._uU(185,"15 x 4"),e._UZ(186,"br"),e._uU(187,"Intu Strip"),e.qZA()(),e.TgZ(188,"td",56)(189,"label",25),e._uU(190,"15 x 4"),e._UZ(191,"br"),e._uU(192,"Intu"),e._UZ(193,"br"),e._uU(194,"Smoke "),e.qZA()(),e.TgZ(195,"td",56)(196,"label",25),e._uU(197,"20 x 4"),e._UZ(198,"br"),e._uU(199,"Intu Strip"),e.qZA()(),e.TgZ(200,"td",56)(201,"label",25),e._uU(202,"20 x 4"),e._UZ(203,"br"),e._uU(204,"Intu"),e._UZ(205,"br"),e._uU(206," Smoke"),e.qZA()(),e.TgZ(207,"td",56)(208,"label",25),e._uU(209,"Drop"),e._UZ(210,"br"),e._uU(211,"Down"),e._UZ(212,"br"),e._uU(213,"Seals"),e.qZA()(),e.TgZ(214,"td",56)(215,"label",25),e._uU(216,"Weather"),e._UZ(217,"br"),e._uU(218,"Seals"),e.qZA()()(),e.TgZ(219,"tr")(220,"td",57)(221,"textarea",68),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.properties.intu_strip_10_4=i}),e.qZA()(),e.TgZ(222,"td",57)(223,"textarea",69),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.properties.intu_smoke_10_4=i}),e.qZA()(),e.TgZ(224,"td",57)(225,"textarea",70),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.properties.intu_strip_15_4=i}),e.qZA()(),e.TgZ(226,"td",57)(227,"textarea",71),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.properties.intu_smoke_15_4=i}),e.qZA()(),e.TgZ(228,"td",57)(229,"textarea",72),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.properties.intu_strip_20_4=i}),e.qZA()(),e.TgZ(230,"td",57)(231,"textarea",73),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.properties.intu_smoke_20_4=i}),e.qZA()(),e.TgZ(232,"td",57)(233,"textarea",74),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.properties.drop_down_seals=i}),e.qZA()(),e.TgZ(234,"td",57)(235,"textarea",75),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.properties.weather_seals=i}),e.qZA()()()(),e._UZ(236,"div",76),e.TgZ(237,"table",22)(238,"tr")(239,"th",77)(240,"label",25),e._uU(241,"Site Contact:"),e.TgZ(242,"span",78),e._uU(243,"*"),e.qZA()()(),e.TgZ(244,"th",77)(245,"label",25),e._uU(246,"Site Number:"),e.TgZ(247,"span",78),e._uU(248,"*"),e.qZA()()()(),e.TgZ(249,"tr")(250,"td",79)(251,"input",80),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.site_contact=i}),e.qZA()(),e.TgZ(252,"td",79)(253,"input",81),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.site_number=i}),e.qZA()()()(),e._UZ(254,"div",76),e.TgZ(255,"table",22)(256,"tr")(257,"th",82)(258,"label",25),e._uU(259,"Other / Notes"),e.qZA()()(),e.TgZ(260,"tr")(261,"td",48)(262,"textarea",83),e.NdJ("ngModelChange",function(i){return n.deliveryOrder.other_notes=i}),e.qZA()()()()(),e.TgZ(263,"div",8)(264,"div",7)(265,"a",10),e.NdJ("click",function(){return n.redirectBack()}),e._uU(266," Discard"),e.qZA(),e.YNc(267,oe,2,0,"a",11),e.YNc(268,re,2,0,"a",11),e.qZA()()()()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!n.currentDeliveryNote),e.xp6(1),e.Q6J("ngIf",n.currentDeliveryNote),e.xp6(3),e.hij("Week ",e.xi3(9,46,n.dateToday,"ww"),""),e.xp6(4),e.Q6J("ngIf",n.currentDeliveryNote),e.xp6(3),e.Q6J("ngIf",!n.currentDeliveryNote&&n._auth.checkPermissions("rod","write")),e.xp6(1),e.Q6J("ngIf",n.currentDeliveryNote&&n._auth.checkPermissions("rod","write")),e.xp6(1),e.Q6J("ngIf",n.currentDeliveryNote&&n._auth.checkPermissions("rod","write")),e.xp6(11),e.Q6J("ngForOf",n.deliveryNotes),e.xp6(1),e.Q6J("ngIf",n.currentDeliveryNote),e.xp6(14),e.Oqu(null==n.workOrder?null:n.workOrder.customer.name),e.xp6(2),e.Q6J("ngModel",n.deliveryOrder.ticket_no),e.xp6(10),e.Q6J("ngModel",n.deliveryOrder.del_name),e.xp6(3),e.Q6J("ngModel",n.deliveryOrder.del_address_1_street),e.xp6(3),e.Q6J("ngModel",n.deliveryOrder.del_address_2_town),e.xp6(3),e.Q6J("ngModel",n.deliveryOrder.del_address_3_city),e.xp6(3),e.Q6J("ngModel",n.deliveryOrder.del_address_4_country),e.xp6(3),e.Q6J("ngModel",n.deliveryOrder.del_address_5_postal_code),e.xp6(9),e.Q6J("bsConfig",e.DdM(49,ie))("bsValue",n.selectedDate),e.xp6(7),e.Q6J("ngModel",n.deliveryOrder.order_number),e.xp6(10),e.Q6J("ngForOf",n.customerOrders),e.xp6(2),e.Q6J("ngForOf",n.deliveryOrder.work_orders),e.xp6(10),e.Q6J("checked",n.deliveryOrder.fsc)("ngModel",n.deliveryOrder.fsc),e.xp6(42),e.Q6J("ngModel",n.deliveryOrder.properties.flush_door),e.xp6(2),e.Q6J("ngModel",n.deliveryOrder.properties.frames),e.xp6(2),e.Q6J("ngModel",n.deliveryOrder.properties.stops),e.xp6(2),e.Q6J("ngModel",n.deliveryOrder.properties.architraves),e.xp6(2),e.Q6J("ngModel",n.deliveryOrder.properties.timber_sections),e.xp6(2),e.Q6J("ngModel",n.deliveryOrder.properties.hinges),e.xp6(2),e.Q6J("ngModel",n.deliveryOrder.properties.glass_pcs),e.xp6(2),e.Q6J("ngModel",n.deliveryOrder.properties.glazing_beads),e.xp6(2),e.Q6J("ngModel",n.deliveryOrder.properties.hinge_packers),e.xp6(55),e.Q6J("ngModel",n.deliveryOrder.properties.intu_strip_10_4),e.xp6(2),e.Q6J("ngModel",n.deliveryOrder.properties.intu_smoke_10_4),e.xp6(2),e.Q6J("ngModel",n.deliveryOrder.properties.intu_strip_15_4),e.xp6(2),e.Q6J("ngModel",n.deliveryOrder.properties.intu_smoke_15_4),e.xp6(2),e.Q6J("ngModel",n.deliveryOrder.properties.intu_strip_20_4),e.xp6(2),e.Q6J("ngModel",n.deliveryOrder.properties.intu_smoke_20_4),e.xp6(2),e.Q6J("ngModel",n.deliveryOrder.properties.drop_down_seals),e.xp6(2),e.Q6J("ngModel",n.deliveryOrder.properties.weather_seals),e.xp6(16),e.Q6J("ngModel",n.deliveryOrder.site_contact),e.xp6(2),e.Q6J("ngModel",n.deliveryOrder.site_number),e.xp6(9),e.Q6J("ngModel",n.deliveryOrder.other_notes),e.xp6(5),e.Q6J("ngIf",!n.currentDeliveryNote&&n._auth.checkPermissions("rod","write")),e.xp6(1),e.Q6J("ngIf",n.currentDeliveryNote&&n._auth.checkPermissions("rod","write")))},directives:[_.O5,O.I,_.sg,_.mk,l.Fj,l.JJ,l.On,v.Y5,v.Np,l.YN,l.Kr,b.u,l.Wl],pipes:[_.uU],styles:[".custom-select-work-orders[_ngcontent-%COMP%]{width:100%;border:none;background:none;-webkit-appearance:none;appearance:none}.ticket-d-detail.active[_ngcontent-%COMP%] > .view-dis[_ngcontent-%COMP%]{visibility:hidden;display:block!important}.dispatch-table-buttons[_ngcontent-%COMP%]{align-items:flex-end;display:flex;justify-content:end}.text-danger-style[_ngcontent-%COMP%]{font-size:1.4rem;line-height:2rem;position:relative;top:1px;padding:0 .5rem;color:#dc3545!important}"]}),r})();var w=c(9265),se=c(2212),de=c(5860),le=c(6671);function ce(r,a){1&r&&(e.TgZ(0,"h4",8),e._uU(1,"UPDATE BULK INVOICE NO"),e.qZA())}function _e(r,a){1&r&&(e.TgZ(0,"h4",8),e._uU(1,"UPDATE BULK SCHEDULE REF"),e.qZA())}function pe(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",11)(4,"label",12),e._uU(5,"Invoice No"),e.TgZ(6,"span",13),e._uU(7,"*"),e.qZA()(),e.TgZ(8,"input",14),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().invoiceNo=o}),e.qZA()()()()()}if(2&r){const t=e.oxw();e.xp6(8),e.Q6J("ngModel",t.invoiceNo)}}function ue(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",11)(4,"label",12),e._uU(5,"Schedule Ref"),e.TgZ(6,"span",13),e._uU(7,"*"),e.qZA()(),e.TgZ(8,"input",14),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().scheduleRef=o}),e.qZA()()()()()}if(2&r){const t=e.oxw();e.xp6(8),e.Q6J("ngModel",t.scheduleRef)}}function ge(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().UpdateInvoiceNo()}),e._uU(1,"Update"),e.qZA()}}function me(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateScheduleRef()}),e._uU(1,"Update"),e.qZA()}}let he=(()=>{class r{constructor(t,n){this.helper=t,this._rod=n,this.response=new e.vpe}ngOnInit(){}UpdateInvoiceNo(){this.response.emit({success:!0,type:this.type,data:this.invoiceNo})}cancel(){this.response.emit({success:!1})}updateScheduleRef(){this.response.emit({success:!0,type:this.type,data:this.scheduleRef})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(f.B),e.Y36(h.W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-update-invoice-schedule-ref"]],inputs:{type:"type"},outputs:{response:"response"},decls:12,vars:6,consts:[[1,"modal-header"],["class","modal-title",4,"ngIf"],[1,"modal-body"],["class","row",4,"ngIf"],[1,"modal-footer"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["href","javascript:void(0)",1,"discard-btn",3,"click"],["href","javascript:void(0)","class","add-btn",3,"click",4,"ngIf"],[1,"modal-title"],[1,"row"],[1,"col-md-12"],[1,"input-style","mb-2"],[1,"d-block"],[1,"text-danger"],["type","text","placeholder","Gd12-19",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["href","javascript:void(0)",1,"add-btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,ce,2,0,"h4",1),e.YNc(2,_e,2,0,"h4",1),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,pe,9,1,"div",3),e.YNc(5,ue,9,1,"div",3),e.qZA(),e.TgZ(6,"div",4)(7,"div",5)(8,"a",6),e.NdJ("click",function(){return n.cancel()}),e._uU(9,"Discard"),e.qZA(),e.YNc(10,ge,2,0,"a",7),e.YNc(11,me,2,0,"a",7),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngIf","invoice_no"==n.type),e.xp6(1),e.Q6J("ngIf","schedule_ref"==n.type),e.xp6(2),e.Q6J("ngIf","invoice_no"==n.type),e.xp6(1),e.Q6J("ngIf","schedule_ref"==n.type),e.xp6(5),e.Q6J("ngIf","invoice_no"==n.type),e.xp6(1),e.Q6J("ngIf","schedule_ref"==n.type))},directives:[_.O5,l.Fj,l.JJ,l.On],styles:[""]}),r})();var fe=c(1628);function Ce(r,a){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()()),2&r){const t=a.$implicit;e.xp6(2),e.Oqu(t.work_number),e.xp6(2),e.Oqu(t.customer.name),e.xp6(2),e.Oqu(t.order_number),e.xp6(2),e.Oqu(t.product.name),e.xp6(2),e.hij("",t.progress,"%")}}function ve(r,a){if(1&r&&(e.TgZ(0,"tbody"),e.YNc(1,Ce,11,5,"tr",23),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.data?null:t.data.model)}}function xe(r,a){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()()),2&r){const t=a.$implicit;e.xp6(2),e.Oqu(t.work_number),e.xp6(2),e.Oqu(t.customer.name),e.xp6(2),e.Oqu(t.order_number),e.xp6(2),e.Oqu(t.product.name),e.xp6(2),e.hij("",t.progress,"%")}}function be(r,a){if(1&r&&(e.TgZ(0,"tbody"),e.YNc(1,xe,11,5,"tr",23),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.data?null:t.data.model)}}function Ze(r,a){1&r&&(e.TgZ(0,"div",5)(1,"p",24),e._uU(2,"Notify To"),e.qZA()())}function Te(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",25)(1,"div",26)(2,"div",27)(3,"div",28)(4,"label",29),e._uU(5),e.TgZ(6,"input",30),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit.status=o}),e.qZA(),e._UZ(7,"span",31),e.qZA()()()()()}if(2&r){const t=a.$implicit;e.xp6(5),e.hij("",t.name," "),e.xp6(1),e.Q6J("checked",t.status)("ngModel",t.status)}}function ye(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",32)(2,"div",33)(3,"textarea",34),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().reason=o}),e.qZA()()()()}if(2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.reason)}}const Oe=function(){return{isAnimated:!0,adaptivePosition:!0,dateInputFormat:"DD-MMM-YYYY",containerClass:"theme-red",selectFromOtherMonth:!0}};function Me(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",35)(2,"label",36),e._uU(3,"Due Date"),e.TgZ(4,"span",37),e._uU(5,"*"),e.qZA()(),e.TgZ(6,"input",38),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().dueDate=o})("bsValueChange",function(o){return e.CHM(t),e.oxw().dueDate=o}),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(6),e.Q6J("ngModel",t.dueDate)("bsValue",t.dueDate)("bsConfig",e.DdM(3,Oe))}}function we(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"p")(2,"i",43),e.NdJ("click",function(){const i=e.CHM(t).index;return e.oxw(2).removeAttachment(i)}),e.qZA(),e._uU(3),e.qZA()()}if(2&r){const t=a.$implicit;e.xp6(3),e.hij(" ",t.name,"")}}function ke(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",39)(1,"label",40),e._UZ(2,"i",41),e._uU(3," Add Attachments "),e.qZA(),e.YNc(4,we,4,1,"div",23),e.TgZ(5,"input",42),e.NdJ("change",function(o){return e.CHM(t),e.oxw().addAttachment(o)}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.attachments)}}function Ae(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",35)(2,"label",36),e._uU(3,"Schedule Ref"),e.qZA(),e.TgZ(4,"input",44),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().scheduleRef=o}),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.scheduleRef)}}function Ue(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",45),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateBulk()}),e._uU(1,"Confirm"),e.qZA()}}function Ne(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",45),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateStatus()}),e._uU(1,"Confirm"),e.qZA()}}let x=(()=>{class r{constructor(t,n,o,i){this._rod=t,this.helper=n,this._admin=o,this.datePipe=i,this.rods=[],this.type="single",this.response=new e.vpe,this.notify=[],this.reason="",this.notifyStatus=["On Hold","Withdrawn","Off Hold"],this.attachmentStatus=["To Factory"],this.reasonStatus=["On Hold","Withdrawn","Off Hold"],this.dueDateStatus=["To Factory"],this.scheduleRefStatus=["To Factory"],this.dueDate=null,this.scheduleRef="",this.formData=new FormData,this.attachments=[]}ngOnInit(){this.scheduleRef=this.data.model[0]?this.data.model[0].schedule_ref:"",this.dueDate=this.data.model[0]?new Date(this.data.model[0].due_date):"",this.getRoles()}getRoles(){this.notifyStatus.includes(this.data.to)&&this._rod.getRolesListing().subscribe(t=>{t.data.forEach(n=>{this.notify.push({id:n.id,name:n.title,status:!1})})})}cancel(){this.response.emit({success:!1,data:this.data.model[0]})}updateStatus(){!this.validateForm()||(this.formData.set("id",this.data.model[0].id),this.formData.delete("notify[]"),this.notify.forEach(t=>{t.status&&this.formData.append("notify[]",t.id)}),this.formData.set("reason",this.reason),this.formData.set("on_hold",this.data.hold?"1":"0"),this.formData.set("status",this.data.status),this.formData.set("proceed",this.proceed),this.dueDate&&this.formData.set("due_date",this.datePipe.transform(this.dueDate,"YYYY-MM-dd")),this.scheduleRef&&this.formData.set("schedule_ref",this.scheduleRef),this._rod.updateOrderStatus(this.formData).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0,data:t.data})}))}addAttachment(t){for(let n=0;n<t.target.files.length;n++){const o=t.target.files[n];this.formData.append("attachment[]",o,o.name),null==this.attachments.find(i=>i.name==o.name)&&this.attachments.push(o)}}removeAttachment(t){this.formData.delete("attachment[]"),this.attachments.splice(t,1),this.attachments.forEach(n=>{this.formData.append("attachment[]",n,n.name)})}updateBulk(){this.formData.delete("id[]"),this.data.model.forEach(t=>{this.formData.append("id[]",t.id)}),this.notify.forEach(t=>{t.status&&this.formData.append("notify[]",t.id)}),this.formData.set("reason",this.reason),this.formData.set("on_hold",this.data.hold?"1":"0"),this.formData.set("status",this.data.status),this.dueDate&&this.formData.set("due_date",this.datePipe.transform(this.dueDate,"YYYY-MM-dd")),this.scheduleRef&&this.formData.set("schedule_ref",this.scheduleRef),this._rod.bulkStatusUpdate(this.formData).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0})})}validateForm(){return!(this.dueDateStatus.includes(this.data.to)&&!this.dueDate&&(this.helper.toastError("Please select due date"),1))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(h.W),e.Y36(f.B),e.Y36(fe.E),e.Y36(_.uU))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-update-status"]],inputs:{data:"data",proceed:"proceed",rods:"rods",bulkStatus:"bulkStatus",type:"type"},outputs:{response:"response"},decls:51,vars:14,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[1,"modal-table","table-responsive"],[1,"table"],[4,"ngIf"],[1,"booked-arrow","d-flex","align-items-center","justify-content-between"],[1,"booked-text"],[1,"booked-images"],["src","assets/img/arrow-left.svg","alt","img",1,"img-fluid"],[1,"fsc-para-box"],[1,"para"],[1,"second-text"],["class","col-md-12",4,"ngIf"],["class","col-md-6",4,"ngFor","ngForOf"],["class","col-md-12 align-items-end d-flex flex-column",4,"ngIf"],[1,"modal-footer"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["href","javascript:void(0) ",1,"discard-btn",3,"click"],["href","javascript:void(0) ","class","add-btn ",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"permission"],[1,"col-md-6"],[1,"notify-checkbox-sec"],[1,"check-box-rod-modal"],[1,"remember-me"],[1,"custom-check","custom-check-r"],["type","checkbox",3,"checked","ngModel","ngModelChange"],[1,"checkmark"],[1,"text-area-modal"],[1,"input-style"],["placeholder","Add reason here",1,"ctm-textarea",3,"ngModel","ngModelChange"],[1,"input-style","mb-2"],[1,"d-block"],[1,"text-danger"],["type","text","placeholder","Due Date","bsDatepicker","",1,"ctm-input","type-input",3,"ngModel","bsValue","bsConfig","ngModelChange","bsValueChange"],[1,"col-md-12","align-items-end","d-flex","flex-column"],["for","upload-file","role","button",1,"d-block"],[1,"fa","fa-paperclip"],["type","file","id","upload-file","placeholder","Due Date","multiple","","accept","application/pdf, application/vnd.ms-excel, image/*",1,"d-none",3,"change"],["role","button",1,"fa","fa-times","mr-1",3,"click"],["type","text","placeholder","Schedule Ref",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["href","javascript:void(0) ",1,"add-btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"ARE YOU SURE?"),e.qZA(),e.TgZ(3,"button",2),e._uU(4,"\xd7"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"table",7)(10,"thead")(11,"tr")(12,"th"),e._uU(13,"Work#"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Customer"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Order#"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Product"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Progress"),e.qZA()()(),e.YNc(22,ve,2,1,"tbody",8),e.YNc(23,be,2,1,"tbody",8),e.qZA()(),e.TgZ(24,"div",9)(25,"h2",10),e._uU(26),e.qZA(),e.TgZ(27,"div",11),e._UZ(28,"img",12),e.qZA(),e.TgZ(29,"h2",10),e._uU(30),e.qZA()(),e.TgZ(31,"div",13)(32,"p",14),e._uU(33," Are you sure about this? You\u2019re changing status "),e.TgZ(34,"span",15),e._uU(35),e.qZA(),e._uU(36," to "),e.TgZ(37,"span",15),e._uU(38),e.qZA()()()(),e.YNc(39,Ze,3,0,"div",16),e.YNc(40,Te,8,3,"div",17),e.YNc(41,ye,4,1,"div",16),e.YNc(42,Me,7,4,"div",16),e.YNc(43,ke,6,1,"div",18),e.YNc(44,Ae,5,1,"div",16),e.qZA()(),e.TgZ(45,"div",19)(46,"div",20)(47,"a",21),e.NdJ("click",function(){return n.cancel()}),e._uU(48,"Cancel"),e.qZA(),e.YNc(49,Ue,2,0,"a",22),e.YNc(50,Ne,2,0,"a",22),e.qZA()()),2&t&&(e.xp6(22),e.Q6J("ngIf",1==(null==n.data.model?null:n.data.model.length)),e.xp6(1),e.Q6J("ngIf",(null==n.data.model?null:n.data.model.length)>1),e.xp6(3),e.Oqu(n.data.from),e.xp6(4),e.Oqu(n.data.to),e.xp6(5),e.hij("\u201c",n.data.from,"\u201d"),e.xp6(3),e.hij("\u201c",n.data.to,"\u201d"),e.xp6(1),e.Q6J("ngIf",n.notifyStatus.includes(n.data.to)),e.xp6(1),e.Q6J("ngForOf",n.notify),e.xp6(1),e.Q6J("ngIf",n.reasonStatus.includes(n.data.to)),e.xp6(1),e.Q6J("ngIf",n.dueDateStatus.includes(n.data.to)),e.xp6(1),e.Q6J("ngIf",n.attachmentStatus.includes(n.data.to)&&!(null!=n.data.model.attachments&&n.data.model.attachments.length)),e.xp6(1),e.Q6J("ngIf",n.scheduleRefStatus.includes(n.data.to)),e.xp6(5),e.Q6J("ngIf","bulk"==n.type),e.xp6(1),e.Q6J("ngIf","single"==n.type))},directives:[_.O5,_.sg,l.Wl,l.JJ,l.On,l.Fj,v.Y5,v.Np],styles:[""]}),r})();function qe(r,a){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",19)(10,"div",20),e._UZ(11,"span"),e.qZA(),e._uU(12),e.qZA()()),2&r){const t=a.$implicit;e.xp6(2),e.Oqu(t.work_number),e.xp6(2),e.Oqu(t.customer.name),e.xp6(2),e.Oqu(t.order_number),e.xp6(2),e.Oqu(t.product.name),e.xp6(3),e.Udp("width",t.progress,"%"),e.xp6(1),e.hij("",t.progress,"% ")}}let Pe=(()=>{class r{constructor(){this.data=[],this.response=new e.vpe,this.payload={ids:[],title:"",description:""},this.orders=[]}ngOnInit(){this.data.forEach(t=>{t.checked&&(this.orders.push(t),this.payload.ids.push(t.id))})}cancel(){this.response.emit({success:!1})}addJobNote(){this.response.emit({success:!0,data:this.payload})}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-multiple-job-notes"]],inputs:{data:"data"},outputs:{response:"response"},decls:41,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[1,"modal-table","table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"input-style","mb-2"],[1,"d-block"],["type","text","placeholder","Title",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],[1,"text-area-modal"],[1,"input-style"],["placeholder","Description",1,"ctm-textarea",3,"ngModel","ngModelChange"],[1,"modal-footer"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["href","javascript:void(0) ",1,"discard-btn",3,"click"],["href","javascript:void(0) ",1,"add-btn",3,"click"],[1,"position-relative"],[1,"progress-cell-bar"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Add Job Notes"),e.qZA(),e.TgZ(3,"button",2),e._uU(4,"\xd7"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"table",7)(10,"thead")(11,"tr")(12,"th"),e._uU(13,"Work#"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Customer"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Order#"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Product"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Progress"),e.qZA()()(),e.TgZ(22,"tbody"),e.YNc(23,qe,13,7,"tr",8),e.qZA()()()(),e.TgZ(24,"div",5)(25,"div",9)(26,"label",10),e._uU(27,"Title"),e.qZA(),e.TgZ(28,"input",11),e.NdJ("ngModelChange",function(i){return n.payload.title=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div",12)(31,"div",13)(32,"label",10),e._uU(33,"Description"),e.qZA(),e.TgZ(34,"textarea",14),e.NdJ("ngModelChange",function(i){return n.payload.description=i}),e.qZA()()()()()(),e.TgZ(35,"div",15)(36,"div",16)(37,"a",17),e.NdJ("click",function(){return n.cancel()}),e._uU(38,"Cancel"),e.qZA(),e.TgZ(39,"a",18),e.NdJ("click",function(){return n.addJobNote()}),e._uU(40,"Add"),e.qZA()()()),2&t&&(e.xp6(23),e.Q6J("ngForOf",n.orders),e.xp6(5),e.Q6J("ngModel",n.payload.title),e.xp6(6),e.Q6J("ngModel",n.payload.description))},directives:[_.sg,l.Fj,l.JJ,l.On],styles:[".table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}"]}),r})(),Je=(()=>{class r{constructor(){this.response=new e.vpe}ngOnInit(){}cancel(){this.response.emit({success:!1})}proceed(){this.response.emit({success:!0})}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-status-delivered-confirmation"]],outputs:{response:"response"},decls:22,vars:0,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[1,"list-group"],[1,"list-group-item","active"],[1,"modal-footer"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["href","javascript:void(0) ",1,"add-btn",3,"click"],["href","javascript:void(0) ",1,"discard-btn","ml-1",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Are You Sure?"),e.qZA(),e.TgZ(3,"button",2),e._uU(4,"\xd7"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"h4"),e._uU(9,"Forcing this order as delivered will turn this to Manual Invoice due to incomplete information on delivery notes. Do you wish to proceed with force delivered or add additional information?"),e.qZA()(),e.TgZ(10,"div",5)(11,"h2"),e._uU(12," Missing Information "),e.qZA(),e.TgZ(13,"ul",6)(14,"li",7),e._uU(15,"Delivery Notes"),e.qZA()()()()(),e.TgZ(16,"div",8)(17,"div",9)(18,"a",10),e.NdJ("click",function(){return n.proceed()}),e._uU(19,"Proceed"),e.qZA(),e.TgZ(20,"a",11),e.NdJ("click",function(){return n.cancel()}),e._uU(21,"Cancel"),e.qZA()()())},styles:["h2[_ngcontent-%COMP%]{margin:15px 0}li[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important;border:unset!important;border-top:1px solid #d5d4d4!important;border-bottom:1px solid #d5d4d4!important}"]}),r})();var De=c(8601);function Se(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",35)(1,"a",36),e.NdJ("click",function(){return e.CHM(t),e.oxw().multipleUpdate("invoice_no")}),e._UZ(2,"i-feather",37),e._uU(3," Invoice "),e.qZA(),e.TgZ(4,"a",38),e.NdJ("click",function(){return e.CHM(t),e.oxw().multipleUpdate("schedule_ref")}),e._UZ(5,"i-feather",37),e._uU(6," Schedule Ref "),e.qZA(),e.TgZ(7,"a",39),e.NdJ("click",function(){return e.CHM(t),e.oxw().addMultipleJobNote()}),e._UZ(8,"i-feather",37),e._uU(9," Job Note "),e.qZA()()}}const Ie=function(){return["/rod/add"]};function Qe(r,a){1&r&&(e.TgZ(0,"a",40),e._UZ(1,"i-feather",37),e._uU(2," Add Work Order "),e.qZA()),2&r&&e.Q6J("routerLink",e.DdM(1,Ie))}function Re(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",41)(1,"div",42)(2,"div",43)(3,"select",44),e.NdJ("change",function(o){return e.CHM(t),e.oxw().bulkStatusUpdate(o)}),e.TgZ(4,"option",45),e._uU(5,"Bulk Status"),e.qZA(),e.TgZ(6,"option",46),e._uU(7,"Booked"),e.qZA(),e.TgZ(8,"option",47),e._uU(9,"To Factory"),e.qZA(),e.TgZ(10,"option",48),e._uU(11,"Delivered"),e.qZA(),e.TgZ(12,"option",49),e._uU(13,"Withdrawn"),e.qZA(),e.TgZ(14,"option",50),e._uU(15,"On Hold"),e.qZA(),e.TgZ(16,"option",51),e._uU(17,"Off Hold"),e.qZA()()()()()}}function Fe(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"th")(1,"div",52)(2,"label",53)(3,"input",54),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().checkAll=o})("change",function(){return e.CHM(t),e.oxw().selectAll()}),e.qZA(),e._UZ(4,"span",55),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(3),e.Q6J("checked",t.checkAll)("ngModel",t.checkAll)}}function Ye(r,a){1&r&&e._UZ(0,"i",56)}function Ee(r,a){1&r&&e._UZ(0,"i",57)}function He(r,a){1&r&&e._UZ(0,"i",56)}function je(r,a){1&r&&e._UZ(0,"i",57)}function ze(r,a){1&r&&e._UZ(0,"i",56)}function We(r,a){1&r&&e._UZ(0,"i",57)}function Le(r,a){1&r&&e._UZ(0,"i",56)}function $e(r,a){1&r&&e._UZ(0,"i",57)}function Be(r,a){1&r&&e._UZ(0,"i",56)}function Ve(r,a){1&r&&e._UZ(0,"i",57)}function Ke(r,a){1&r&&e._UZ(0,"i",56)}function Ge(r,a){1&r&&e._UZ(0,"i",57)}function Xe(r,a){1&r&&e._UZ(0,"i",56)}function et(r,a){1&r&&e._UZ(0,"i",57)}function tt(r,a){1&r&&e._UZ(0,"i",56)}function nt(r,a){1&r&&e._UZ(0,"i",57)}function ot(r,a){1&r&&e._UZ(0,"i",56)}function rt(r,a){1&r&&e._UZ(0,"i",57)}function it(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"td")(1,"div",52)(2,"label",53)(3,"input",54),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().$implicit.checked=o})("change",function(){return e.CHM(t),e.oxw(2).selectOptions()}),e.qZA(),e._UZ(4,"span",55),e.qZA()()()}if(2&r){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("checked",t.checked)("ngModel",t.checked)}}function at(r,a){1&r&&(e.TgZ(0,"option",51),e._uU(1,"Off Hold"),e.qZA())}function st(r,a){if(1&r&&(e.TgZ(0,"option",92),e._uU(1,"In Storage"),e.qZA()),2&r){const t=e.oxw().$implicit;e.Q6J("selected",t.is_storage&&!t.on_hold)("disabled",t.is_storage)}}function dt(r,a){1&r&&(e.TgZ(0,"option",93),e._uU(1,"Remove from storage"),e.qZA())}function lt(r,a){1&r&&(e.TgZ(0,"p",29),e._UZ(1,"i-feather",94),e.qZA())}function ct(r,a){1&r&&(e.TgZ(0,"p",29),e._uU(1,"-"),e.qZA())}function _t(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"input",95),e.NdJ("focusout",function(o){e.CHM(t);const i=e.oxw().index;return e.oxw().updateInvoiceNo(o,i)})("keyup",function(o){e.CHM(t);const i=e.oxw().index;return e.oxw().updateInvoiceNo(o,i)}),e.qZA()}if(2&r){const t=e.oxw(),o=t.$implicit;e.MGl("id","edit-invoice-no-",t.index,""),e.Q6J("value",o.invoice_no)}}function pt(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"i-feather",98),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).index;return e.oxw().editInvoiceNo(o)}),e.qZA()}}function ut(r,a){if(1&r&&(e.TgZ(0,"p",96),e._uU(1,"- "),e.YNc(2,pt,1,0,"i-feather",97),e.qZA()),2&r){const t=e.oxw().$implicit,n=e.oxw();e.xp6(2),e.Q6J("ngIf",n._auth.checkPermissions("rod","write")&&!t.on_hold)}}function gt(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"i-feather",98),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).index;return e.oxw().editInvoiceNo(o)}),e.qZA()}}function mt(r,a){if(1&r&&(e.TgZ(0,"a",99),e._uU(1),e.YNc(2,gt,1,0,"i-feather",97),e.qZA()),2&r){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.hij(" ",t.invoice_no," "),e.xp6(1),e.Q6J("ngIf",n._auth.checkPermissions("rod","write")&&!t.on_hold)}}const Z=function(r){return["delivery-notes",r]};function ht(r,a){if(1&r&&(e.TgZ(0,"a",100),e._uU(1,"Multiple"),e.qZA()),2&r){const t=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(1,Z,t.id))}}function ft(r,a){if(1&r&&(e.TgZ(0,"a",96),e._uU(1," - "),e._UZ(2,"i-feather",101),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("routerLink",e.VKq(1,Z,t.id))}}function Ct(r,a){if(1&r&&(e.TgZ(0,"a",102),e._uU(1),e._UZ(2,"i-feather",103),e.qZA()),2&r){const t=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(2,Z,t.id)),e.xp6(1),e.hij(" ",null==t.delivery_notes[0]?null:t.delivery_notes[0].ticket_no," ")}}function vt(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"input",95),e.NdJ("focusout",function(o){e.CHM(t);const i=e.oxw().index;return e.oxw().updateScheduleRef(o,i)})("keyup",function(o){e.CHM(t);const i=e.oxw().index;return e.oxw().updateScheduleRef(o,i)}),e.qZA()}if(2&r){const t=e.oxw(),o=t.$implicit;e.MGl("id","edit-schedule-ref-",t.index,""),e.Q6J("value",o.schedule_ref)}}function xt(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"i-feather",98),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).index;return e.oxw().editScheduleRef(o)}),e.qZA()}}function bt(r,a){if(1&r&&(e.TgZ(0,"p",104),e._uU(1,"- "),e.YNc(2,xt,1,0,"i-feather",97),e.qZA()),2&r){const t=e.oxw().$implicit,n=e.oxw();e.xp6(2),e.Q6J("ngIf",n._auth.checkPermissions("rod","write")&&!t.on_hold)}}function Zt(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"i-feather",98),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).index;return e.oxw().editScheduleRef(o)}),e.qZA()}}function Tt(r,a){if(1&r&&(e.TgZ(0,"a",99),e._uU(1),e.YNc(2,Zt,1,0,"i-feather",97),e.qZA()),2&r){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.hij(" ",t.schedule_ref," "),e.xp6(1),e.Q6J("ngIf",n._auth.checkPermissions("rod","write")&&!t.on_hold)}}function yt(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",105),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),i=o.$implicit,s=o.index;return e.oxw().addJobNote(i.id,s)}),e._UZ(1,"i-feather",106),e.qZA()}}function Ot(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",107),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),i=o.$implicit,s=o.index;return e.oxw().addJobNote(i.id,s)}),e._uU(1," View "),e.qZA()}}function Mt(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",108)(1,"div",109)(2,"a",110),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),i=o.$implicit,s=o.index;return e.oxw().addJobNote(i.id,s)}),e._uU(3," Add Note "),e._UZ(4,"i-feather",111),e.qZA()(),e._UZ(5,"div",112),e.TgZ(6,"div",113),e._uU(7),e.ALo(8,"date"),e.qZA()()}if(2&r){const t=e.oxw().$implicit;e.xp6(5),e.Q6J("innerHtml",t.latest_job_note.description,e.oJD),e.xp6(2),e.hij(" ",e.xi3(8,2,t.latest_job_note.created_at,"h:mm a | dd LLLL, yyyy")," ")}}function wt(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",114),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),i=o.$implicit,s=o.index;return e.oxw().completeOrder(i,s)}),e._UZ(1,"i-feather",115),e.qZA()}}function kt(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",116),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),i=o.$implicit,s=o.index;return e.oxw().editSalesOrder(i,s)}),e._UZ(1,"i-feather",117),e.qZA()}}function At(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",118),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),i=o.$implicit,s=o.index;return e.oxw().deleteOrder(i,s)}),e._UZ(1,"i-feather",119),e.qZA()}}const Ut=function(r,a,t){return{"order-withdrawn":r,"order-to-factory":a,"order-storage":t}};function Nt(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"tr",58),e.YNc(1,it,5,2,"td",27),e.TgZ(2,"td")(3,"p",29),e._uU(4),e.qZA()(),e.TgZ(5,"td")(6,"p",29),e._uU(7),e.qZA()(),e.TgZ(8,"td")(9,"p",29),e._uU(10),e.qZA()(),e.TgZ(11,"td")(12,"p",29),e._uU(13),e.qZA()(),e.TgZ(14,"td")(15,"p",29),e._uU(16),e.qZA()(),e.TgZ(17,"td")(18,"div",59)(19,"div",42)(20,"div",43)(21,"select",60),e.NdJ("change",function(o){const i=e.CHM(t),s=i.$implicit,d=i.index;return e.oxw().updateStatus(s,o,d)}),e.TgZ(22,"option",61),e._uU(23,"Booked"),e.qZA(),e.TgZ(24,"option",62),e._uU(25,"To Factory"),e.qZA(),e.TgZ(26,"option",63),e._uU(27,"In Factory"),e.qZA(),e.TgZ(28,"option",64),e._uU(29,"Withdrawn"),e.qZA(),e.TgZ(30,"option",65),e._uU(31,"Delivered"),e.qZA(),e.TgZ(32,"option",66),e._uU(33,"On Hold"),e.qZA(),e.YNc(34,at,2,0,"option",67),e.YNc(35,st,2,2,"option",68),e.YNc(36,dt,2,0,"option",69),e.qZA()()()()(),e.TgZ(37,"td",70)(38,"div",71),e._UZ(39,"span"),e.qZA(),e._uU(40),e.qZA(),e.TgZ(41,"td"),e.YNc(42,lt,2,0,"p",72),e.YNc(43,ct,2,0,"p",72),e.qZA(),e.TgZ(44,"td")(45,"div",73),e.YNc(46,_t,1,2,"input",74),e.YNc(47,ut,3,1,"p",75),e.YNc(48,mt,3,2,"a",76),e.qZA()(),e.TgZ(49,"td")(50,"div",73),e.YNc(51,ht,2,3,"a",77),e.YNc(52,ft,3,3,"a",75),e.YNc(53,Ct,3,4,"a",78),e.qZA()(),e.TgZ(54,"td")(55,"div",73),e.YNc(56,vt,1,2,"input",74),e.YNc(57,bt,3,1,"p",79),e.YNc(58,Tt,3,2,"a",76),e.qZA()(),e.TgZ(59,"td")(60,"div",80),e.YNc(61,yt,2,0,"a",81),e.YNc(62,Ot,2,0,"a",82),e.YNc(63,Mt,9,5,"div",83),e.qZA()(),e.TgZ(64,"td")(65,"div",84)(66,"a",85),e._UZ(67,"i-feather",86),e.qZA(),e.TgZ(68,"a",87),e.NdJ("click",function(){const o=e.CHM(t),i=o.$implicit,s=o.index;return e.oxw().viewTimeline(i,s)}),e._UZ(69,"i-feather",88),e.qZA(),e.YNc(70,wt,2,0,"a",89),e.YNc(71,kt,2,0,"a",90),e.YNc(72,At,2,0,"a",91),e.qZA()()()}if(2&r){const t=a.$implicit,n=e.oxw();e.Q6J("ngClass",e.kEZ(45,Ut,"Withdrawn"==t.status||t.on_hold,"To Factory"==t.status&&!t.on_hold,t.is_storage&&!t.on_hold)),e.xp6(1),e.Q6J("ngIf",n._auth.checkPermissions("rod","write")),e.xp6(3),e.Oqu(t.work_number),e.xp6(3),e.Oqu(t.customer.name),e.xp6(3),e.Oqu(t.contract),e.xp6(3),e.Oqu(t.order_number),e.xp6(3),e.Oqu(t.product.name),e.xp6(5),e.Q6J("disabled",!n._auth.checkPermissions("rod","write")),e.xp6(1),e.Q6J("selected","Booked"==t.status&&!t.is_storage)("disabled",t.on_hold||t.is_storage),e.xp6(2),e.Q6J("selected","To Factory"==t.status&&!t.is_storage)("disabled",t.on_hold||t.is_storage),e.xp6(2),e.Q6J("selected","In Factory"==t.status&&!t.is_storage)("disabled",t.on_hold||t.is_storage||"In Factory"==t.status)("hidden","In Factory"!=t.status),e.xp6(2),e.Q6J("selected","Withdrawn"==t.status&&!t.is_storage)("disabled",t.on_hold||t.is_storage),e.xp6(2),e.Q6J("selected","Delivered"==t.status&&!t.is_storage)("disabled",t.on_hold||t.is_storage),e.xp6(2),e.Q6J("selected",t.on_hold)("disabled",t.on_hold||t.is_storage),e.xp6(2),e.Q6J("ngIf",t.on_hold),e.xp6(1),e.Q6J("ngIf",!t.on_hold),e.xp6(1),e.Q6J("ngIf",t.is_storage&&!t.on_hold),e.xp6(3),e.Udp("width",t.progress,"%"),e.xp6(1),e.hij("",t.progress,"% "),e.xp6(2),e.Q6J("ngIf",t.fsc),e.xp6(1),e.Q6J("ngIf",!t.fsc),e.xp6(3),e.Q6J("ngIf",t.edit_invoice),e.xp6(1),e.Q6J("ngIf",!t.invoice_no&&!t.edit_invoice),e.xp6(1),e.Q6J("ngIf",t.invoice_no&&!t.edit_invoice),e.xp6(3),e.Q6J("ngIf",t.delivery_notes_count>1),e.xp6(1),e.Q6J("ngIf",0==t.delivery_notes_count),e.xp6(1),e.Q6J("ngIf",1==t.delivery_notes_count),e.xp6(3),e.Q6J("ngIf",t.edit_schedule_ref),e.xp6(1),e.Q6J("ngIf",!t.schedule_ref&&!t.edit_schedule_ref),e.xp6(1),e.Q6J("ngIf",t.schedule_ref&&!t.edit_schedule_ref),e.xp6(3),e.Q6J("ngIf","0"==t.job_notes_count),e.xp6(1),e.Q6J("ngIf","0"!=t.job_notes_count),e.xp6(1),e.Q6J("ngIf","0"!=t.job_notes_count&&t.latest_job_note.description),e.xp6(3),e.Q6J("routerLink",e.VKq(49,Z,t.id)),e.xp6(4),e.Q6J("ngIf",n._auth.checkPermissions("rod","write")),e.xp6(1),e.Q6J("ngIf",n._auth.checkPermissions("rod","write")),e.xp6(1),e.Q6J("ngIf",n._auth.checkPermissions("rod","write"))}}const qt=[{path:"",component:(()=>{class r{constructor(t,n,o,i,s,d,p){this.ref=t,this._rod=n,this.helper=o,this._modal=i,this.router=s,this._auth=d,this.route=p,this.rods=[],this.searchParams={search:"",page_size:10,page:1,sort_column:"work_number",sort_value:"DESC"},this.totalPages=1,this.pageFrom=1,this.pageTo=10,this.totalCount=10,this.checked=!1,this.checkAll=!1,this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles"},this.multiUpdateType="invoice_no",this.dateToday=new Date,this.route.queryParams.subscribe(u=>{this.searchParams.search=u.work_number,this.rodListing()})}ngOnInit(){this.getNotifications()}getNotifications(){this.notificationSubscription=this.helper.currentNotification.subscribe(t=>{1==this.helper.checkNotification("work-orders","rod",this.rods,t)?this.rodListing():this.ref.detectChanges()})}rodListing(){this.searchSubscription&&this.searchSubscription.unsubscribe(),this.checked=!1,this.searchSubscription=this._rod.rodListing(this.searchParams).subscribe(t=>{this.searchParams.page_size=t.data.per_page,this.searchParams.page=t.data.current_page,this.totalPages=t.data.last_page,this.pageFrom=t.data.from,this.pageTo=t.data.to,this.totalCount=t.data.total,this.checkAll=!1,this.rods=t.data.data.map(n=>(n.edit_invoice=!1,n.edit_schedule_ref=!1,n))})}selectOptions(){this.checked=!!this.rods.find(t=>t.checked),this.checkAll=!this.rods.find(t=>!t.checked)}selectAll(){console.log(this.checkAll,this.rods.find(t=>!t.checked)),this.rods.map(this.checkAll?t=>t.checked=!0:t=>t.checked=!1),this.checkAll=!this.rods.find(t=>!t.checked),this.selectOptions()}addSalesOrder(){const t=this._modal.open(w.q,this.modalConfig);t.componentInstance.type="add",t.componentInstance.response.subscribe(n=>{n.success&&this.rodListing(),t.close()})}editSalesOrder(t,n){const o=this._modal.open(w.q,this.modalConfig);o.componentInstance.type="edit",o.componentInstance.order=t,o.componentInstance.response.subscribe(i=>{i.success&&(this.rods[n]=i.data),o.close()})}addJobNote(t,n){this.modalConfig.windowClass="modal-roles job-notes-modal";const o=this._modal.open(se._,this.modalConfig);o.componentInstance.orderId=t,o.componentInstance.response.subscribe(i=>{i.success&&!i.close&&(this.rods[n]=i.data),i.success&&i.close&&o.dismiss(),i.close&&(this.rodListing(),o.dismiss(),this.modalConfig.windowClass="modal-roles")})}editInvoiceNo(t){this.rods[t].edit_invoice=!0,setTimeout(function(){document.getElementById("edit-invoice-no-"+t).focus()},20)}editScheduleRef(t){this.rods[t].edit_schedule_ref=!0,setTimeout(function(){document.getElementById("edit-schedule-ref-"+t).focus()},20)}updateInvoiceNo(t,n){if("keyup"==t.type&&13!=t.keyCode)return;if(!t.target.value||t.target.value==this.rods[n].invoice_no)return void(this.rods[n].edit_invoice=!1);let o={id:[this.rods[n].id],type:"invoice_no",data:t.target.value};this._rod.multipleUpdateOrder(o).subscribe(i=>{this.helper.toastSuccess(i.message),this.rods[n].edit_invoice=!1,this.rods[n].invoice_no=o.data},i=>{this.rods[n].edit_invoice=!1})}updateScheduleRef(t,n){if("keyup"==t.type&&13!=t.keyCode)return;if(!t.target.value||t.target.value==this.rods[n].schedule_ref)return void(this.rods[n].edit_schedule_ref=!1);let i={id:[this.rods[n].id],type:"schedule_ref",data:t.target.value};this._rod.multipleUpdateOrder(i).subscribe(s=>{this.helper.toastSuccess(s.message),this.rods[n].edit_schedule_ref=!1,this.rods[n].schedule_ref=i.data},s=>{this.rods[n].edit_schedule_ref=!1})}multipleUpdate(t){this.multiUpdateType=t;let n=[];this.rods.forEach(s=>{s.checked&&n.push(s.id)}),console.log(n);let o={id:n,type:this.multiUpdateType,data:""};const i=this._modal.open(he,this.modalConfig);i.componentInstance.type=this.multiUpdateType,i.componentInstance.response.subscribe(s=>{s.success?(o.data=s.data,this._rod.multipleUpdateOrder(o).subscribe(d=>{this.helper.toastSuccess(d.message),this.rods.forEach(p=>{n.find(u=>u==p.id)&&(p[this.multiUpdateType]=s.data)}),i.dismiss()})):i.dismiss()})}updateStatus(t,n,o){let i=!1;if("Delivered"==n.target.value&&null!=t.quotation)if(i=!0,t.quotation.is_delivery_address_verified||t.quotation.is_manual)i=!1;else{this.modalConfig.windowClass="modal-roles change-status-modal";const s=this._modal.open(Je,this.modalConfig);s.componentInstance.response.subscribe(d=>{s.dismiss(),d.success?this.openConfirmModal(t,n,o,!0):n.target.value=t.status,this.modalConfig.windowClass="modal-roles"})}if("On Hold"==n.target.value||"Off Hold"==n.target.value)return this.updateHoldStatus(t),void(n.target.value=t.status);"Move Storage"!=n.target.value?i||this.openConfirmModal(t,n,o,!1):this.updateStorageStatus(t,n,o)}openConfirmModal(t,n,o,i){let s={hold:t.on_hold,from:t.status,to:n.target.value,model:[t],status:n.target.value};this.modalConfig.windowClass="modal-roles change-status-modal";const d=this._modal.open(x,this.modalConfig);d.componentInstance.data=s,d.componentInstance.proceed=i,d.componentInstance.response.subscribe(p=>{n.target.value=p.data.status,this.rods[o]=p.data,d.dismiss(),this.modalConfig.windowClass="modal-roles"})}updateHoldStatus(t){let n={hold:!t.on_hold,from:t.on_hold?"On Hold":t.status,to:t.on_hold?"Off Hold":"On Hold",model:[t],status:t.status};this.modalConfig.windowClass="modal-roles change-status-modal";const o=this._modal.open(x,this.modalConfig);o.componentInstance.data=n,o.componentInstance.response.subscribe(i=>{t.on_hold=i.data.on_hold,o.dismiss()}),this.modalConfig.windowClass="modal-roles"}updateStorageStatus(t,n,o){let i={hold:!t.is_storage,from:"Storage",to:t.status,model:[t],status:t.status};this.modalConfig.windowClass="modal-roles change-status-modal";const s=this._modal.open(x,this.modalConfig);s.componentInstance.data=i,s.componentInstance.response.subscribe(d=>{d.success?this.rods[o]=d.data:n.target.value="Storage",s.dismiss()}),this.modalConfig.windowClass="modal-roles"}deleteOrder(t,n){const o=this._modal.open(de.p,this.modalConfig);o.componentInstance.data=t,o.componentInstance.response.subscribe(i=>{i.success&&this.rods.splice(n,1),o.dismiss()})}viewTimeline(t,n){this.modalConfig.windowClass="modal-roles timeline";const o=this._modal.open(le.z,this.modalConfig);o.componentInstance.rod=t,o.componentInstance.response.subscribe(i=>{i.success&&this.router.navigate(["rod/delivery-notes",t.id]),i.data&&(this.rods[n]=i.data),o.dismiss(),this.modalConfig.windowClass="modal-roles"})}bulkStatusUpdate(t){if("Off Hold"!=t.target.value&&!this.checkBulkStatus())return this.helper.toastError("Only orders with same status can be updated in bulk."),void(t.target.value="select");if(!this.checkBulkHoldStatus())return this.helper.toastError("Only orders with same status can be updated in bulk."),void(t.target.value="select");let n=this.rods.find(m=>m.checked);if(n.status==t.target.value)return void(t.target.value="select");let o=this.rods.filter(m=>{if(m.checked)return m}),i=n.on_hold,s=t.target.value,d=n.status;"On Hold"==t.target.value?(i=!0,s=t.target.value,d=n.status):"Off Hold"==t.target.value?(i=!1,s=d):"On Hold"!=t.target.value&&"On Hold"!=t.target.value&&i?i=!1:(i=!1,d=t.target.value);let p={hold:i,from:n.on_hold?"On Hold":n.status,to:n.on_hold?"Off Hold":s,model:o,status:d};this.modalConfig.windowClass="modal-roles change-status-modal";const u=this._modal.open(x,this.modalConfig);u.componentInstance.data=p,u.componentInstance.type="bulk",u.componentInstance.response.subscribe(m=>{m.success&&this.rodListing(),t.target.value="select",u.dismiss(),this.modalConfig.windowClass="modal-roles"})}checkBulkStatus(){let t="",n=!0;return this.rods.forEach(o=>{o.checked&&""==t&&(t=o.status),o.status!=t&&o.checked&&""!=t&&(n=!1)}),n}checkBulkHoldStatus(){let n,t=!0;return this.rods.forEach(o=>{o.checked&&null==n&&(n=o.on_hold),o.on_hold!=n&&o.checked&&null!=n&&(t=!1)}),t}searchRod(){this.searchParams.page=1,this.rodListing()}changePage(t){console.log(t),this.searchParams.page=t,this.rodListing()}ChangePageSize(t){console.log(t),this.searchParams.page=1,this.searchParams.page_size=t,this.rodListing()}completeOrder(t,n){if(parseInt(t.progress)<100||"Delivered"!=t.status)return void this.helper.toastError("Cannot complete order because it is still in production");let o={hold:t.on_hold,from:t.status,to:"Completed",model:[t],status:"Completed"};this.modalConfig.windowClass="modal-roles change-status-modal";const i=this._modal.open(x,this.modalConfig);i.componentInstance.data=o,i.componentInstance.response.subscribe(s=>{s.success&&this.rods.splice(n,1),i.dismiss()})}addMultipleJobNote(){const t=this._modal.open(Pe,this.modalConfig);t.componentInstance.data=this.rods,t.componentInstance.response.subscribe(n=>{n.success?this._rod.addMultipleJobNote(n.data).subscribe(i=>{this.helper.toastSuccess(i.message),this.rodListing(),t.dismiss()}):t.dismiss()})}downloadData(t){this.searchParams.type=t,this._rod.downloadData(this.searchParams).subscribe(n=>{window.open(n.data.link)})}sortData(t){this.searchParams.sort_column=t,this.searchParams.sort_value="ASC"==this.searchParams.sort_value?"DESC":"ASC",console.log(this.searchParams),this.rodListing()}ngOnDestroy(){this.notificationSubscription.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(h.W),e.Y36(f.B),e.Y36(C.FF),e.Y36(g.F0),e.Y36(y.e),e.Y36(g.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-rod"]],decls:97,vars:34,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","for-respo-devices-rod","justify-content-between","mr-70"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],["class","d-flex btn-feature",4,"ngIf"],[1,"d-flex","for-respo-devices-rod-btn"],["class","btn-apply",3,"routerLink",4,"ngIf"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"credit-check"],["name","download",1,"download"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"roles-main","delivery-list-table","ROD-main"],[1,"d-flex","align-items-center","justify-content-between","rod-fixed-btn","delivery-list-main"],[1,"d-flex","for-media-setts"],[1,"form-group","sear-bar-roles","position-relative","mb-0"],["type","search","placeholder","Search..","id","email",1,"form-control","form-control-roles",3,"ngModel","ngModelChange","input"],["name","search",1,"search-ctm"],[1,"mr-70","d-flex"],["class","select-box",4,"ngIf"],[1,"tab-table"],[1,"tables-roles-main","tables-users-main","table-responsive"],[1,"table"],[1,"thead-ctm"],[4,"ngIf"],[1,"cursor-pointer",3,"click"],[1,"inner-cell"],["class","fa fa-arrow-down sorting-arrow","aria-hidden","true",4,"ngIf"],["class","fa fa-arrow-up sorting-arrow","aria-hidden","true",4,"ngIf"],[1,"t-body-ctm"],["class","active-row",3,"ngClass",4,"ngFor","ngForOf"],[3,"from","to","pageSize","currentPage","totalPages","total","changePage","ChangePageSize"],[1,"d-flex","btn-feature"],["href","javascript:void(0)",1,"Invoice",3,"click"],["name","plus",1,"plus"],["href","javascript:void(0)",1,"Schedule",3,"click"],["href","javascript:void(0)",1,"btn-apply",3,"click"],[1,"btn-apply",3,"routerLink"],[1,"select-box"],[1,"form-group"],[1,"arrow-design"],[1,"form-control","bulk-select-status",3,"change"],["value","select","selected",""],["value","Booked"],["value","To Factory"],["value","Delivered"],["value","Withdrawn"],["value","On Hold"],["value","Off Hold"],[1,"remember-me"],[1,"custom-check","custom-check-r"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"checkmark"],["aria-hidden","true",1,"fa","fa-arrow-down","sorting-arrow"],["aria-hidden","true",1,"fa","fa-arrow-up","sorting-arrow"],[1,"active-row",3,"ngClass"],[1,"select-box","inner-cell"],[1,"form-control",3,"disabled","change"],["value","Booked",3,"selected","disabled"],["value","To Factory",3,"selected","disabled"],["value","In Factory",3,"selected","disabled","hidden"],["value","Withdrawn",3,"selected","disabled"],["value","Delivered",3,"selected","disabled"],["value","On Hold",3,"selected","disabled"],["value","Off Hold",4,"ngIf"],["value","Storage",3,"selected","disabled",4,"ngIf"],["value","Move Storage",4,"ngIf"],[1,"position-relative"],[1,"progress-cell-bar"],["class","inner-cell",4,"ngIf"],[1,"inner-cell","list-icons-talbe-sec"],["type","text","class","edit-inline-input","autofocus","",3,"value","id","focusout","keyup",4,"ngIf"],["class","icon-anchor-list",4,"ngIf"],["class","icon-anchor-list","href","javascript:void(0)",4,"ngIf"],["class","icon-anchor-list red",3,"routerLink",4,"ngIf"],["class","icon-anchor-list","href","javascript:void(0)",3,"routerLink",4,"ngIf"],["class","inner-cell icon-anchor-list",4,"ngIf"],[1,"inner-cell","view-anchor-tooltip"],["class","icon-anchor-list","href","javascript:void(0)",3,"click",4,"ngIf"],["class","view-anchor red","href","javascript:void(0)",3,"click",4,"ngIf"],["class","tooltiptext-view",4,"ngIf"],[1,"inner-cell","list-icons-talbe"],["href","javascript:void(0)","placement","top","ngbTooltip","Delivery Note",1,"icon-anchor-list",3,"routerLink"],["name","book",1,"icon-width"],["href","javascript:void(0)","placement","top","ngbTooltip","Timeline",1,"icon-anchor-list",3,"click"],["name","trending-up",1,"icon-width"],["class","icon-anchor-list","href","javascript:void(0)","placement","top","ngbTooltip","Complete Order",3,"click",4,"ngIf"],["class","icon-anchor-list","href","javascript:void(0)","placement","top","ngbTooltip","Edit Order",3,"click",4,"ngIf"],["class","icon-anchor-list","href","javascript:void(0)","placement","top","ngbTooltip","Cancel Order",3,"click",4,"ngIf"],["value","Storage",3,"selected","disabled"],["value","Move Storage"],["name","check"],["type","text","autofocus","",1,"edit-inline-input",3,"value","id","focusout","keyup"],[1,"icon-anchor-list"],["class","icon-width","name","edit-2",3,"click",4,"ngIf"],["name","edit-2",1,"icon-width",3,"click"],["href","javascript:void(0)",1,"icon-anchor-list"],[1,"icon-anchor-list","red",3,"routerLink"],["name","edit-2",1,"icon-width",3,"routerLink"],["href","javascript:void(0)",1,"icon-anchor-list",3,"routerLink"],["name","edit-2",1,"icon-width"],[1,"inner-cell","icon-anchor-list"],["href","javascript:void(0)",1,"icon-anchor-list",3,"click"],["name","plus",1,"icon-width"],["href","javascript:void(0)",1,"view-anchor","red",3,"click"],[1,"tooltiptext-view"],[1,"d-flex","align-items-center","justify-content-end"],["href","javascript:void(0)",1,"tooltip-anchor-modal",3,"click"],["name","plus",1,"icon-width","w15"],[1,"toop-hight",3,"innerHtml"],[1,"date-tooptip-iner"],["href","javascript:void(0)","placement","top","ngbTooltip","Complete Order",1,"icon-anchor-list",3,"click"],["name","check",1,"icon-width"],["href","javascript:void(0)","placement","top","ngbTooltip","Edit Order",1,"icon-anchor-list",3,"click"],["name","edit-3",1,"icon-width"],["href","javascript:void(0)","placement","top","ngbTooltip","Cancel Order",1,"icon-anchor-list",3,"click"],["name","trash",1,"icon-width"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),e._uU(6,"ROD"),e.qZA()(),e.TgZ(7,"li",4)(8,"a",6),e._uU(9),e.ALo(10,"date"),e.qZA()()(),e.YNc(11,Se,10,0,"div",7),e.TgZ(12,"div",8),e.YNc(13,Qe,3,2,"a",9),e.TgZ(14,"div",10)(15,"button",11),e._UZ(16,"i-feather",12),e._uU(17," Download Data "),e.qZA(),e.TgZ(18,"div",13)(19,"a",14),e.NdJ("click",function(){return n.downloadData("displayed")}),e._uU(20,"Displayed"),e.qZA(),e.TgZ(21,"a",14),e.NdJ("click",function(){return n.downloadData("all")}),e._uU(22,"All"),e.qZA()()()()(),e.TgZ(23,"div",15)(24,"div",16)(25,"div",17)(26,"div",18)(27,"input",19),e.NdJ("ngModelChange",function(i){return n.searchParams.search=i})("input",function(){return n.searchRod()}),e.qZA(),e._UZ(28,"i-feather",20),e.qZA()(),e.TgZ(29,"div",21),e.YNc(30,Re,18,0,"div",22),e.qZA()(),e.TgZ(31,"div",23)(32,"div",24)(33,"table",25)(34,"thead",26)(35,"tr"),e.YNc(36,Fe,5,2,"th",27),e.TgZ(37,"th",28),e.NdJ("click",function(){return n.sortData("work_number")}),e.TgZ(38,"p",29),e._uU(39,"Work# "),e.YNc(40,Ye,1,0,"i",30),e.YNc(41,Ee,1,0,"i",31),e.qZA()(),e.TgZ(42,"th",28),e.NdJ("click",function(){return n.sortData("customers.name")}),e.TgZ(43,"p",29),e._uU(44,"Customer "),e.YNc(45,He,1,0,"i",30),e.YNc(46,je,1,0,"i",31),e.qZA()(),e.TgZ(47,"th",28),e.NdJ("click",function(){return n.sortData("contract")}),e.TgZ(48,"p",29),e._uU(49,"Contract "),e.YNc(50,ze,1,0,"i",30),e.YNc(51,We,1,0,"i",31),e.qZA()(),e.TgZ(52,"th",28),e.NdJ("click",function(){return n.sortData("order_number")}),e.TgZ(53,"p",29),e._uU(54,"Order# "),e.YNc(55,Le,1,0,"i",30),e.YNc(56,$e,1,0,"i",31),e.qZA()(),e.TgZ(57,"th",28),e.NdJ("click",function(){return n.sortData("products.name")}),e.TgZ(58,"p",29),e._uU(59,"Product "),e.YNc(60,Be,1,0,"i",30),e.YNc(61,Ve,1,0,"i",31),e.qZA()(),e.TgZ(62,"th",28),e.NdJ("click",function(){return n.sortData("status")}),e.TgZ(63,"p",29),e._uU(64,"Status "),e.YNc(65,Ke,1,0,"i",30),e.YNc(66,Ge,1,0,"i",31),e.qZA()(),e.TgZ(67,"th",28),e.NdJ("click",function(){return n.sortData("progress")}),e.TgZ(68,"p",29),e._uU(69,"Progress "),e.YNc(70,Xe,1,0,"i",30),e.YNc(71,et,1,0,"i",31),e.qZA()(),e.TgZ(72,"th",28),e.NdJ("click",function(){return n.sortData("fsc")}),e.TgZ(73,"p",29),e._uU(74,"FSC "),e.YNc(75,tt,1,0,"i",30),e.YNc(76,nt,1,0,"i",31),e.qZA()(),e.TgZ(77,"th",28),e.NdJ("click",function(){return n.sortData("invoice_no")}),e.TgZ(78,"p",29),e._uU(79,"Invoice "),e.YNc(80,ot,1,0,"i",30),e.YNc(81,rt,1,0,"i",31),e.qZA()(),e.TgZ(82,"th")(83,"p",29),e._uU(84,"Delivery Note"),e.qZA()(),e.TgZ(85,"th")(86,"p",29),e._uU(87,"Sch Ref"),e.qZA()(),e.TgZ(88,"th")(89,"p",29),e._uU(90,"Job Notes"),e.qZA()(),e.TgZ(91,"th")(92,"p",29),e._uU(93,"Actions"),e.qZA()()()(),e.TgZ(94,"tbody",32),e.YNc(95,Nt,73,51,"tr",33),e.qZA()()(),e.TgZ(96,"app-pagination",34),e.NdJ("changePage",function(i){return n.changePage(i)})("ChangePageSize",function(i){return n.ChangePageSize(i)}),e.qZA()()()()()),2&t&&(e.xp6(9),e.hij("Week ",e.xi3(10,31,n.dateToday,"ww"),""),e.xp6(2),e.Q6J("ngIf",n.checked),e.xp6(2),e.Q6J("ngIf",n._auth.checkPermissions("rod","write")),e.xp6(14),e.Q6J("ngModel",n.searchParams.search),e.xp6(3),e.Q6J("ngIf",n.checked),e.xp6(6),e.Q6J("ngIf",n._auth.checkPermissions("rod","write")),e.xp6(4),e.Q6J("ngIf","work_number"==n.searchParams.sort_column&&"DESC"==n.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf","work_number"==n.searchParams.sort_column&&"ASC"==n.searchParams.sort_value),e.xp6(4),e.Q6J("ngIf","customers.name"==n.searchParams.sort_column&&"DESC"==n.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf","customers.name"==n.searchParams.sort_column&&"ASC"==n.searchParams.sort_value),e.xp6(4),e.Q6J("ngIf","contract"==n.searchParams.sort_column&&"DESC"==n.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf","contract"==n.searchParams.sort_column&&"ASC"==n.searchParams.sort_value),e.xp6(4),e.Q6J("ngIf","order_number"==n.searchParams.sort_column&&"DESC"==n.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf","order_number"==n.searchParams.sort_column&&"ASC"==n.searchParams.sort_value),e.xp6(4),e.Q6J("ngIf","products.name"==n.searchParams.sort_column&&"DESC"==n.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf","products.name"==n.searchParams.sort_column&&"ASC"==n.searchParams.sort_value),e.xp6(4),e.Q6J("ngIf","status"==n.searchParams.sort_column&&"DESC"==n.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf","status"==n.searchParams.sort_column&&"ASC"==n.searchParams.sort_value),e.xp6(4),e.Q6J("ngIf","progress"==n.searchParams.sort_column&&"DESC"==n.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf","progress"==n.searchParams.sort_column&&"ASC"==n.searchParams.sort_value),e.xp6(4),e.Q6J("ngIf","fsc"==n.searchParams.sort_column&&"DESC"==n.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf","fsc"==n.searchParams.sort_column&&"ASC"==n.searchParams.sort_value),e.xp6(4),e.Q6J("ngIf","invoice_no"==n.searchParams.sort_column&&"DESC"==n.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf","invoice_no"==n.searchParams.sort_column&&"ASC"==n.searchParams.sort_value),e.xp6(14),e.Q6J("ngForOf",n.rods),e.xp6(1),e.Q6J("from",n.pageFrom)("to",n.pageTo)("pageSize",n.searchParams.page_size)("currentPage",n.searchParams.page)("totalPages",n.totalPages)("total",n.totalCount))},directives:[_.O5,b.u,g.yS,l.Fj,l.JJ,l.On,l.YN,l.Kr,l.Wl,_.sg,_.mk,g.rH,C._L,De.Q],pipes:[_.uU],styles:[".form-group[_ngcontent-%COMP%]{margin-bottom:0}.select-box.inner-cell[_ngcontent-%COMP%] > .form-group[_ngcontent-%COMP%]{width:100%}.select-box[_ngcontent-%COMP%]   .arrow-design[_ngcontent-%COMP%]{width:auto;height:auto}.select-box[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:10px 15px;font-size:inherit;font-weight:700;color:#656565;height:auto;background:transparent;border-radius:10px;border:1px solid #E0E0E0;cursor:pointer;display:flex;align-items:center;-webkit-appearance:none;appearance:none}a.icon-anchor-list.red[_ngcontent-%COMP%], a.view-anchor.red[_ngcontent-%COMP%]{color:#dc0100!important}.edit-inline-input[_ngcontent-%COMP%]{outline:none;border-radius:5px;border:1px solid #ccc;padding:5px 15px;width:100px}.bulk-select-status[_ngcontent-%COMP%]{width:16.3rem!important;height:4.4rem!important;font-size:12px!important}.tables-roles-main.tables-users-main[_ngcontent-%COMP%] > table[_ngcontent-%COMP%]   thead.thead-ctm[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]:first-child{width:30px!important}.progress-cell-bar[_ngcontent-%COMP%]{top:10px}.btn-apply[_ngcontent-%COMP%]{height:4rem}"]}),r})()},{path:"delivery-notes/:id",component:ae},{path:"add",component:H}];let Pt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[g.Bz.forChild(qt)],g.Bz]}),r})();var Jt=c(5530),Dt=c(9618);let St=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[_.ez,Pt,l.u5,C.bz,C.IJ,b.p.pick(Jt.kEt),Dt.m,O.K,v.kn]]}),r})()}}]);