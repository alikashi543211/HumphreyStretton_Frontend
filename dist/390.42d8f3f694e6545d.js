"use strict";(self.webpackChunkhumphree=self.webpackChunkhumphree||[]).push([[390],{9330:(E,Z,a)=>{a.d(Z,{y:()=>y});var e=a(5e3),M=a(2027),A=a(9634),g=a(9808),f=a(4182);function s(_,T){1&_&&(e.TgZ(0,"h4",9),e._uU(1,"ADD CUSTOMER"),e.qZA())}function d(_,T){1&_&&(e.TgZ(0,"h4",9),e._uU(1,"EDIT CUSTOMER"),e.qZA())}function m(_,T){if(1&_){const l=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"label",13),e._uU(4,"Customer"),e.TgZ(5,"span",14),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"input",15),e.NdJ("ngModelChange",function(C){return e.CHM(l),e.oxw().customer.name=C}),e.qZA()()(),e.TgZ(8,"div",11)(9,"div",12)(10,"label",13),e._uU(11,"Email"),e.TgZ(12,"span",14),e._uU(13,"*"),e.qZA()(),e.TgZ(14,"input",16),e.NdJ("ngModelChange",function(C){return e.CHM(l),e.oxw().customer.email=C}),e.qZA()()(),e.TgZ(15,"div",11)(16,"div",17)(17,"label",13),e._uU(18,"Phone no."),e.TgZ(19,"span",14),e._uU(20,"*"),e.qZA()(),e.TgZ(21,"input",18),e.NdJ("ngModelChange",function(C){return e.CHM(l),e.oxw().customer.phone_no=C}),e.qZA()()()()}if(2&_){const l=e.oxw();e.xp6(7),e.Q6J("ngModel",l.customer.name),e.xp6(7),e.Q6J("ngModel",l.customer.email),e.xp6(7),e.Q6J("ngModel",l.customer.phone_no)}}function u(_,T){if(1&_){const l=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"label",13),e._uU(4,"Customer"),e.TgZ(5,"span",14),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"input",15),e.NdJ("ngModelChange",function(C){return e.CHM(l),e.oxw().cus.name=C}),e.qZA()()(),e.TgZ(8,"div",11)(9,"div",12)(10,"label",13),e._uU(11,"Email"),e.TgZ(12,"span",14),e._uU(13,"*"),e.qZA()(),e.TgZ(14,"input",16),e.NdJ("ngModelChange",function(C){return e.CHM(l),e.oxw().cus.email=C}),e.qZA()()(),e.TgZ(15,"div",11)(16,"div",12)(17,"label",13),e._uU(18,"Phone"),e.TgZ(19,"span",14),e._uU(20,"*"),e.qZA()(),e.TgZ(21,"input",18),e.NdJ("ngModelChange",function(C){return e.CHM(l),e.oxw().cus.phone_no=C}),e.qZA()()(),e.TgZ(22,"div",19)(23,"div",20)(24,"h3",21),e._uU(25,"Blacklisted"),e.qZA(),e.TgZ(26,"div",22)(27,"label",23)(28,"input",24),e.NdJ("ngModelChange",function(C){return e.CHM(l),e.oxw().cus.blacklist=C}),e.qZA(),e._UZ(29,"span",25),e.qZA()()()()()}if(2&_){const l=e.oxw();e.xp6(7),e.Q6J("ngModel",l.cus.name),e.xp6(7),e.Q6J("ngModel",l.cus.email),e.xp6(7),e.Q6J("ngModel",l.cus.phone_no),e.xp6(7),e.Q6J("ngModel",l.cus.blacklist)}}function h(_,T){if(1&_){const l=e.EpF();e.TgZ(0,"a",26),e.NdJ("click",function(){return e.CHM(l),e.oxw().new()}),e._uU(1,"Save"),e.qZA()}}function O(_,T){if(1&_){const l=e.EpF();e.TgZ(0,"a",26),e.NdJ("click",function(){return e.CHM(l),e.oxw().edit()}),e._uU(1,"Update"),e.qZA()}}let y=(()=>{class _{constructor(l,p){this._phonebook=l,this.helper=p,this.type="add",this.response=new e.vpe,this.customer={name:"",email:"",phone_no:""}}ngOnInit(){}cancel(){this.response.emit({success:!1})}new(){this._phonebook.addCustomer(this.customer).subscribe(l=>{this.helper.toastSuccess(l.message),this.response.emit({success:!0,data:l.data,new:!0})})}edit(){this._phonebook.updateCustomer(this.cus).subscribe(l=>{this.helper.toastSuccess(l.message),this.response.emit({success:!0,data:l.data})})}}return _.\u0275fac=function(l){return new(l||_)(e.Y36(M.Q),e.Y36(A.B))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-add-edit-customer"]],inputs:{cus:"cus",type:"type"},outputs:{response:"response"},decls:14,vars:6,consts:[[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],["class","row",4,"ngIf"],[1,"modal-footer"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["href","javascript:void(0)",1,"discard-btn",3,"click"],["href","javascript:void(0)","class","add-btn",3,"click",4,"ngIf"],[1,"modal-title"],[1,"row"],[1,"col-md-12"],[1,"input-style","mb-2"],[1,"d-block"],[1,"text-danger"],["type","text","placeholder","Name","name","name",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["type","email","placeholder","Ex: John@gmail.com","name","email",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],[1,"input-style"],["type","text","placeholder","0236 54321","name","phone_no",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],[1,"col-md-6"],[1,"d-flex","align-items-center","check-box-rod-modal","justify-content-between"],[1,"fsc-text"],[1,"remember-me"],[1,"custom-check","custom-check-r"],["type","checkbox","checked","checked",3,"ngModel","ngModelChange"],[1,"checkmark"],["href","javascript:void(0)",1,"add-btn",3,"click"]],template:function(l,p){1&l&&(e.TgZ(0,"div",0),e.YNc(1,s,2,0,"h4",1),e.YNc(2,d,2,0,"h4",1),e.TgZ(3,"button",2),e._uU(4,"\xd7"),e.qZA()(),e.TgZ(5,"div",3),e.YNc(6,m,22,3,"div",4),e.YNc(7,u,30,4,"div",4),e.qZA(),e.TgZ(8,"div",5)(9,"div",6)(10,"a",7),e.NdJ("click",function(){return p.cancel()}),e._uU(11,"Discard"),e.qZA(),e.YNc(12,h,2,0,"a",8),e.YNc(13,O,2,0,"a",8),e.qZA()()),2&l&&(e.xp6(1),e.Q6J("ngIf","add"==p.type),e.xp6(1),e.Q6J("ngIf","edit"==p.type),e.xp6(4),e.Q6J("ngIf","add"==p.type),e.xp6(1),e.Q6J("ngIf","edit"==p.type),e.xp6(5),e.Q6J("ngIf","add"==p.type),e.xp6(1),e.Q6J("ngIf","edit"==p.type))},directives:[g.O5,f.Fj,f.JJ,f.On,f.Wl],styles:[""]}),_})()},9265:(E,Z,a)=>{a.d(Z,{q:()=>L});var e=a(5e3),M=a(9330),A=a(1702),g=a(9634),f=a(9644),s=a(9808),d=a(4182),m=a(6783),u=a(7051);function h(i,c){1&i&&(e.TgZ(0,"h4",8),e._uU(1,"ADD SALES ORDER"),e.qZA())}function O(i,c){1&i&&(e.TgZ(0,"h4",8),e._uU(1,"UPDATE SALES ORDER"),e.qZA())}function y(i,c){if(1&i&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&i){const t=c.$implicit;e.Q6J("value",c.index),e.xp6(1),e.Oqu(t.name)}}function _(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"span",38),e._uU(1),e.TgZ(2,"i-feather",39),e.NdJ("click",function(){const o=e.CHM(t).index;return e.oxw(2).removeProduct(o)}),e.qZA()()}if(2&i){const t=c.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function T(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"li",42),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw(3).selectCustomer(o)}),e._uU(1),e.qZA()}if(2&i){const t=c.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function l(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",40)(1,"ul"),e.YNc(2,T,2,1,"li",41),e.TgZ(3,"li",42),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).selectCustomer("new")}),e._uU(4,"Add Customer"),e.qZA()()()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.customers)}}function p(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"label",14)(3,"span",43),e._uU(4,"[W/O]"),e.qZA(),e._uU(5),e.TgZ(6,"span",15),e._uU(7,"*"),e.qZA()(),e.TgZ(8,"input",44),e.NdJ("ngModelChange",function(n){return e.CHM(t).$implicit.quantity=n}),e.qZA()()()}if(2&i){const t=c.$implicit;e.xp6(5),e.Oqu(t.name),e.xp6(3),e.Q6J("ngModel",t.quantity)}}function C(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12)(4,"div",13)(5,"label",14),e._uU(6,"Product"),e.TgZ(7,"span",15),e._uU(8,"*"),e.qZA()(),e.TgZ(9,"select",16),e.NdJ("change",function(n){return e.CHM(t),e.oxw().selectProduct(n)}),e.TgZ(10,"option",17),e._uU(11,"Select Product"),e.qZA(),e.YNc(12,y,2,2,"option",18),e.qZA()()(),e.TgZ(13,"div",19),e.YNc(14,_,3,1,"span",20),e.qZA()()(),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"div",21),e.NdJ("focusout",function(){return e.CHM(t),e.oxw().customerInputOut()}),e.TgZ(19,"label",14),e._uU(20,"Customers"),e.TgZ(21,"span",15),e._uU(22,"*"),e.qZA()(),e.TgZ(23,"input",22),e.NdJ("input",function(n){return e.CHM(t),e.oxw().searchCustomer(n)})("focus",function(){return e.CHM(t),e.oxw().customerInput=!0})("ngModelChange",function(n){return e.CHM(t),e.oxw().selectedCustomer=n}),e.qZA(),e.YNc(24,l,5,1,"div",23),e._UZ(25,"i-feather",24),e.qZA()()()(),e.YNc(26,p,9,2,"div",25),e.TgZ(27,"div",26)(28,"div",11)(29,"label",14),e._uU(30,"Contract"),e.TgZ(31,"span",15),e._uU(32,"*"),e.qZA()(),e.TgZ(33,"input",27),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().workOrder.contract=n}),e.qZA()()(),e.TgZ(34,"div",10)(35,"div",11)(36,"label",14),e._uU(37,"Customer Order#"),e.TgZ(38,"span",15),e._uU(39,"*"),e.qZA()(),e.TgZ(40,"input",28),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().workOrder.order_number=n}),e.qZA()()(),e.TgZ(41,"div",10)(42,"div",11)(43,"label",14),e._uU(44,"Location"),e.TgZ(45,"span",15),e._uU(46,"*"),e.qZA()(),e.TgZ(47,"input",29),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().workOrder.location=n}),e.qZA()()(),e.TgZ(48,"div",10)(49,"div",11)(50,"label",14),e._uU(51,"Schedule Ref"),e.qZA(),e.TgZ(52,"input",30),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().workOrder.schedule_ref=n}),e.qZA()()(),e.TgZ(53,"div",10)(54,"div",31)(55,"h3",32),e._uU(56,"FSC:"),e.qZA(),e.TgZ(57,"div",33)(58,"label",34)(59,"input",35),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().workOrder.fsc=n}),e.qZA(),e._UZ(60,"span",36),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(12),e.Q6J("ngForOf",t.products),e.xp6(2),e.Q6J("ngForOf",t.selectedProducts),e.xp6(9),e.Q6J("ngModel",t.selectedCustomer),e.xp6(1),e.Q6J("ngIf",t.customerInput),e.xp6(2),e.Q6J("ngForOf",t.selectedProducts),e.xp6(7),e.Q6J("ngModel",t.workOrder.contract),e.xp6(7),e.Q6J("ngModel",t.workOrder.order_number),e.xp6(7),e.Q6J("ngModel",t.workOrder.location),e.xp6(5),e.Q6J("ngModel",t.workOrder.schedule_ref),e.xp6(7),e.Q6J("ngModel",t.workOrder.fsc)}}function v(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"li",42),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw(3).selectCustomer(o)}),e._uU(1),e.qZA()}if(2&i){const t=c.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function D(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",40)(1,"ul"),e.YNc(2,v,2,1,"li",41),e.TgZ(3,"li",42),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).selectCustomer("new")}),e._uU(4,"Add Customer"),e.qZA()()()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.customers)}}function N(i,c){if(1&i&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&i){const t=c.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}const I=function(){return{isAnimated:!0,adaptivePosition:!0,dateInputFormat:"DD-MMM-YYYY",containerClass:"theme-red",selectFromOtherMonth:!0}};function F(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"label",14),e._uU(4,"Work Order#"),e.TgZ(5,"span",15),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"input",45),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().updateOrder.work_number=n}),e.qZA()()(),e.TgZ(8,"div",10)(9,"div",11)(10,"div",12)(11,"div",21),e.NdJ("focusout",function(){return e.CHM(t),e.oxw().customerInputOut()}),e.TgZ(12,"label",14),e._uU(13,"Customers"),e.TgZ(14,"span",15),e._uU(15,"*"),e.qZA()(),e.TgZ(16,"input",22),e.NdJ("input",function(n){return e.CHM(t),e.oxw().searchCustomer(n)})("focus",function(){return e.CHM(t),e.oxw().customerInput=!0})("ngModelChange",function(n){return e.CHM(t),e.oxw().selectedCustomer=n}),e.qZA(),e.YNc(17,D,5,1,"div",23),e._UZ(18,"i-feather",24),e.qZA()()()(),e.TgZ(19,"div",10)(20,"div",11)(21,"label",14),e._uU(22,"Product"),e.TgZ(23,"span",15),e._uU(24,"*"),e.qZA()(),e.TgZ(25,"select",46),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().updateOrder.product_id=n}),e.YNc(26,N,2,2,"option",18),e.qZA()()(),e.TgZ(27,"div",10)(28,"div",11)(29,"label",14),e._uU(30,"Quantity"),e.TgZ(31,"span",15),e._uU(32,"*"),e.qZA()(),e.TgZ(33,"input",47),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().updateOrder.quantity=n}),e.qZA()()(),e.TgZ(34,"div",10)(35,"div",11)(36,"label",14),e._uU(37,"Customer Order Number"),e.TgZ(38,"span",15),e._uU(39,"*"),e.qZA()(),e.TgZ(40,"input",48),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().updateOrder.order_number=n}),e.qZA()()(),e.TgZ(41,"div",10)(42,"div",11)(43,"label",14),e._uU(44,"Contract"),e.TgZ(45,"span",15),e._uU(46,"*"),e.qZA()(),e.TgZ(47,"input",49),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().updateOrder.contract=n}),e.qZA()()(),e.TgZ(48,"div",10)(49,"div",11)(50,"label",14),e._uU(51,"Due Date"),e.TgZ(52,"span",15),e._uU(53,"*"),e.qZA()(),e.TgZ(54,"div",50)(55,"input",51),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().currentDate=n})("bsValueChange",function(n){return e.CHM(t),e.oxw().dateChanged(n)})("bsValueChange",function(n){return e.CHM(t),e.oxw().currentDate=n}),e.qZA()()()(),e.TgZ(56,"div",10)(57,"div",11)(58,"label",14),e._uU(59,"Invoice"),e.TgZ(60,"span",15),e._uU(61,"*"),e.qZA()(),e.TgZ(62,"input",52),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().updateOrder.invoice_no=n}),e.qZA()()(),e.TgZ(63,"div",10)(64,"div",11)(65,"label",14),e._uU(66,"Schedule Ref"),e.TgZ(67,"span",15),e._uU(68,"*"),e.qZA()(),e.TgZ(69,"input",53),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().updateOrder.schedule_ref=n}),e.qZA()()(),e.TgZ(70,"div",10)(71,"div",31)(72,"h3",32),e._uU(73,"FSC:"),e.qZA(),e.TgZ(74,"div",33)(75,"label",34)(76,"input",54),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().updateOrder.fsc=n}),e.qZA(),e._UZ(77,"span",36),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.updateOrder.work_number),e.xp6(9),e.Q6J("ngModel",t.selectedCustomer),e.xp6(1),e.Q6J("ngIf",t.customerInput),e.xp6(8),e.Q6J("ngModel",t.updateOrder.product_id),e.xp6(1),e.Q6J("ngForOf",t.products),e.xp6(7),e.Q6J("ngModel",t.updateOrder.quantity),e.xp6(7),e.Q6J("ngModel",t.updateOrder.order_number),e.xp6(7),e.Q6J("ngModel",t.updateOrder.contract),e.xp6(8),e.Q6J("ngModel",t.currentDate)("bsValue",t.currentDate)("bsConfig",e.DdM(15,I)),e.xp6(7),e.Q6J("ngModel",t.updateOrder.invoice_no),e.xp6(7),e.Q6J("ngModel",t.updateOrder.schedule_ref),e.xp6(7),e.Q6J("checked",t.order.fsc)("ngModel",t.updateOrder.fsc)}}function H(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"a",55),e.NdJ("click",function(){return e.CHM(t),e.oxw().addSalesOrder()}),e._uU(1,"Add"),e.qZA()}}function Q(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"a",55),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateSalesOrder()}),e._uU(1,"Update"),e.qZA()}}let L=(()=>{class i{constructor(t,r,n,o){this._rod=t,this.helper=r,this._modal=n,this.datePipe=o,this.response=new e.vpe,this.products=[],this.selectedProducts=[],this.customers=[],this.workOrder={products:this.selectedProducts,customer_id:0,location:"",contract:"",fsc:!1,order_number:"",schedule_ref:""},this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles"},this.currentDate=new Date,this.customerInput=!1,this.selectedCustomer=""}ngOnInit(){"edit"==this.type&&this.updateOrderObj(),this.getProductsListing(),this.getCustomerListing()}updateOrderObj(){var t,r,n,o,x,b,U,w,q,P,S,k,J;this.updateOrder={id:null===(t=this.order)||void 0===t?void 0:t.id,work_number:null===(r=this.order)||void 0===r?void 0:r.work_number,invoice_no:null===(n=this.order)||void 0===n?void 0:n.invoice_no,schedule_ref:null===(o=this.order)||void 0===o?void 0:o.schedule_ref,status:null===(x=this.order)||void 0===x?void 0:x.status,quantity:null===(b=this.order)||void 0===b?void 0:b.quantity,product_id:null===(U=this.order)||void 0===U?void 0:U.product_id,customer_id:null===(w=this.order)||void 0===w?void 0:w.customer_id,location:null===(q=this.order)||void 0===q?void 0:q.location,contract:null===(P=this.order)||void 0===P?void 0:P.contract,fsc:null===(S=this.order)||void 0===S?void 0:S.fsc,order_number:null===(k=this.order)||void 0===k?void 0:k.order_number,due_date:null===(J=this.order)||void 0===J?void 0:J.due_date},this.currentDate=new Date(this.updateOrder.due_date)}getProductsListing(){this._rod.productsListing().subscribe(t=>{this.products=t.data})}getCustomerListing(){this._rod.getCustomersListing().subscribe(t=>{this.customers=t.data.data,"edit"==this.type&&(this.selectedCustomer=this.order.customer.name)})}cancel(){this.response.emit({success:!1})}addSalesOrder(){this.validateAddForm()&&this._rod.storeWorkOrder(this.workOrder).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0})})}updateSalesOrder(){this.validateUpdateForm()&&this._rod.updateWorkOrder(this.updateOrder).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0,data:t.data})})}selectProduct(t){let r=this.products[t.target.value];t.target.value="select",this.selectedProducts.find(n=>n.id==r.id)||this.selectedProducts.push({id:r.id,name:r.name,quantity:""})}searchCustomer(t){(t.target.value.length>=3||0==t.target.value.length)&&(this.searchSubscription&&this.searchSubscription.unsubscribe(),this.searchSubscription=this._rod.getCustomersListing({search:t.target.value}).subscribe(r=>{this.customers=r.data.data}))}removeProduct(t){this.selectedProducts.splice(t,1)}selectCustomer(t){if("new"==t){const r=this._modal.open(M.y,this.modalConfig);r.componentInstance.response.subscribe(n=>{n.success&&(this.customers.push(n.data),"add"==this.type?this.workOrder.customer_id=n.data.id:this.updateOrder.customer_id=n.data.id,this.selectedCustomer=n.data.name),r.dismiss()})}else"add"==this.type?this.workOrder.customer_id=t.id:this.updateOrder.customer_id=t.id,this.selectedCustomer=t.name;this.customerInputOut()}validateAddForm(){if(!this.workOrder.products.length)return this.helper.toastError("Please select product"),!1;if(!this.workOrder.customer_id)return this.helper.toastError("Please select customer"),!1;let t=this.workOrder.products.find(r=>0==r.quantity);return t?(this.helper.toastError("Please enter quantity for "+t.name),!1):this.workOrder.contract.length?this.workOrder.order_number.length?!!this.workOrder.location.length||(this.helper.toastError("Please enter location"),!1):(this.helper.toastError("Please enter customer order number"),!1):(this.helper.toastError("Please enter contract details"),!1)}validateUpdateForm(){return this.updateOrder.product_id?this.updateOrder.quantity?this.updateOrder.contract.length?this.updateOrder.order_number.length?!!this.updateOrder.location.length||(this.helper.toastError("Please enter location"),!1):(this.helper.toastError("Please enter customer order number"),!1):(this.helper.toastError("Please enter contract details"),!1):(this.helper.toastError("Please enter product quantity"),!1):(this.helper.toastError("Please select product"),!1)}customerInputOut(){setTimeout(()=>{this.customerInput=!1},200)}dateChanged(t){"edit"==this.type&&(this.updateOrder.due_date=this.datePipe.transform(t,"YYYY-MM-dd"))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.W),e.Y36(g.B),e.Y36(f.FF),e.Y36(s.uU))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-edit-sales-order"]],inputs:{order:"order",type:"type"},outputs:{response:"response"},decls:12,vars:6,consts:[[1,"modal-header"],["class","modal-title",4,"ngIf"],[1,"modal-body"],["class","row",4,"ngIf"],[1,"modal-footer"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["href","javascript:void(0)",1,"discard-btn",3,"click"],["href","javascript:void(0)","class","add-btn",3,"click",4,"ngIf"],[1,"modal-title"],[1,"row"],[1,"col-md-6"],[1,"input-style","mb-2"],[1,"select-box"],[1,"form-group"],[1,"d-block"],[1,"text-danger"],["placeholder","Change Action",1,"ctm-input","bg-white",3,"change"],["value","select","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","flex-wrap"],["class","fiels-ctm",4,"ngFor","ngForOf"],[1,"form-group","position-relative",3,"focusout"],["type","text","placeholder","Customer",1,"ctm-input","type-input",3,"ngModel","input","focus","ngModelChange"],["class","custom-dropdown-list",4,"ngIf"],["name","search",1,"input-icon"],["class","col-md-6",4,"ngFor","ngForOf"],[1,"col-md-12"],["type","text","placeholder","Contract Name","name","contract",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Customer Order#","name","order_number",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Location","name","location",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Schedule Ref","name","schedule_ref",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],[1,"d-flex","align-items-center","check-box-rod-modal","justify-content-between"],[1,"fsc-text"],[1,"remember-me"],[1,"custom-check","custom-check-r"],["type","checkbox","checked","checked",3,"ngModel","ngModelChange"],[1,"checkmark"],[3,"value"],[1,"fiels-ctm"],["name","X",1,"remove-product",3,"click"],[1,"custom-dropdown-list"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"red-label"],["type","text","placeholder","Enter quantity",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["type","text","placeholder","A01","readonly","","name","work_number",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["placeholder","Select Customer",1,"ctm-input","bg-white",3,"ngModel","ngModelChange"],["type","number","placeholder","100",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Wan043",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Charing Cross Hospital",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],[1,"type-pass"],["type","text","placeholder","23/10/2021","bsDatepicker","",1,"ctm-input",3,"ngModel","bsValue","bsConfig","ngModelChange","bsValueChange"],["type","text","placeholder","41109",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Gd12-19",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["type","checkbox",3,"checked","ngModel","ngModelChange"],["href","javascript:void(0)",1,"add-btn",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.YNc(1,h,2,0,"h4",1),e.YNc(2,O,2,0,"h4",1),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,C,61,10,"div",3),e.YNc(5,F,78,16,"div",3),e.qZA(),e.TgZ(6,"div",4)(7,"div",5)(8,"a",6),e.NdJ("click",function(){return r.cancel()}),e._uU(9,"Discard"),e.qZA(),e.YNc(10,H,2,0,"a",7),e.YNc(11,Q,2,0,"a",7),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngIf","add"==r.type),e.xp6(1),e.Q6J("ngIf","edit"==r.type),e.xp6(2),e.Q6J("ngIf","add"==r.type),e.xp6(1),e.Q6J("ngIf","edit"==r.type),e.xp6(5),e.Q6J("ngIf","add"==r.type),e.xp6(1),e.Q6J("ngIf","edit"==r.type))},directives:[s.O5,d.YN,d.Kr,s.sg,m.u,d.Fj,d.JJ,d.On,d.Wl,d.EJ,d.wV,u.Y5,u.Np],styles:[".remove-product[_ngcontent-%COMP%]{color:#fff;width:15px;height:15px;margin-left:5px;cursor:pointer}.search-position-modal[_ngcontent-%COMP%]{position:absolute;right:1.6rem!important}"]}),i})()},5979:(E,Z,a)=>{a.d(Z,{F:()=>s});var e=a(5e3),M=a(1702),A=a(629),g=a(9634),f=a(9808);let s=(()=>{class d{constructor(u,h,O){this._rod=u,this._auth=h,this.helper=O,this.response=new e.vpe}ngOnInit(){this.order=this.importOrder}cancel(){this.response.emit({success:!1})}confirm(){this.response.emit({success:!0})}}return d.\u0275fac=function(u){return new(u||d)(e.Y36(M.W),e.Y36(A.e),e.Y36(g.B))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-import-preview"]],inputs:{importOrder:"importOrder"},outputs:{response:"response"},decls:68,vars:28,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[1,"col-md-6"],[1,"input-style","mb-2"],[1,"d-block"],[1,"modal-footer"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["href","javascript:void(0) ",1,"discard-btn",3,"click"],["href","javascript:void(0) ",1,"add-btn",3,"click"]],template:function(u,h){1&u&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"PREVIEW"),e.qZA(),e.TgZ(3,"button",2),e._uU(4,"\xd7"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",4)(9,"div",6)(10,"div",7)(11,"label",8),e._uU(12,"Frame Quantity"),e.qZA(),e.TgZ(13,"div"),e._uU(14),e.qZA()()(),e.TgZ(15,"div",6)(16,"div",7)(17,"label",8),e._uU(18,"Frame Value"),e.qZA(),e.TgZ(19,"div"),e._uU(20),e.ALo(21,"currency"),e.qZA()()(),e.TgZ(22,"div",6)(23,"div",7)(24,"label",8),e._uU(25,"Doors Quantity"),e.qZA(),e.TgZ(26,"div"),e._uU(27),e.qZA()()(),e.TgZ(28,"div",6)(29,"div",7)(30,"label",8),e._uU(31,"Doors Value"),e.qZA(),e.TgZ(32,"div"),e._uU(33),e.ALo(34,"currency"),e.qZA()()(),e.TgZ(35,"div",6)(36,"div",7)(37,"label",8),e._uU(38,"Settlement Discount"),e.qZA(),e.TgZ(39,"div"),e._uU(40),e.qZA()()(),e.TgZ(41,"div",6)(42,"div",7)(43,"label",8),e._uU(44,"Discount Amount"),e.qZA(),e.TgZ(45,"div"),e._uU(46),e.ALo(47,"currency"),e.qZA()()(),e.TgZ(48,"div",6)(49,"div",7)(50,"label",8),e._uU(51,"Delivery Fee"),e.qZA(),e.TgZ(52,"div"),e._uU(53),e.ALo(54,"currency"),e.qZA()()(),e.TgZ(55,"div",6)(56,"div",7)(57,"label",8),e._uU(58,"Total Value"),e.qZA(),e.TgZ(59,"div"),e._uU(60),e.ALo(61,"currency"),e.qZA()()()()()()(),e.TgZ(62,"div",9)(63,"div",10)(64,"a",11),e.NdJ("click",function(){return h.cancel()}),e._uU(65,"Cancel"),e.qZA(),e.TgZ(66,"a",12),e.NdJ("click",function(){return h.confirm()}),e._uU(67,"Confirm"),e.qZA()()()),2&u&&(e.xp6(14),e.Oqu(h.order.total_frame_quantity),e.xp6(6),e.Oqu(e.Dn7(21,8,h.order.total_frame_value,"GBP","symbol")),e.xp6(7),e.Oqu(h.order.total_door_quantity),e.xp6(6),e.Oqu(e.Dn7(34,12,h.order.total_door_value,"GBP","symbol")),e.xp6(7),e.hij("",h.order.discount_percentage,"%"),e.xp6(6),e.Oqu(e.Dn7(47,16,h.order.discount_amount,"GBP","symbol")),e.xp6(7),e.Oqu(e.Dn7(54,20,h.order.delivery_fee,"GBP","symbol")),e.xp6(7),e.Oqu(e.Dn7(61,24,h.order.total_value,"GBP","symbol")))},pipes:[f.H9],styles:[""]}),d})()},6186:(E,Z,a)=>{a.d(Z,{I:()=>M,K:()=>A});var e=a(5e3);let M=(()=>{class g{constructor(){this._printStyle=[],this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(s){for(let d in s)s.hasOwnProperty(d)&&this._printStyle.push((d+JSON.stringify(s[d])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(s){let d=function(m){return`<link rel="stylesheet" type="text/css" href="${m}">`};if(-1!==s.indexOf(",")){const m=s.split(",");for(let u of m)this._styleSheetFile=this._styleSheetFile+d(u)}else this._styleSheetFile=d(s)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(s){const d=[],m=document.getElementsByTagName(s);for(let u=0;u<m.length;u++)d.push(m[u].outerHTML);return d.join("\r\n")}getFormData(s){for(var d=0;d<s.length;d++)s[d].defaultValue=s[d].value,s[d].checked&&(s[d].defaultChecked=!0)}getHtmlContents(){let s=document.getElementById(this.printSectionId),d=s.getElementsByTagName("input");this.getFormData(d);let m=s.getElementsByTagName("textarea");return this.getFormData(m),s.innerHTML}print(){let s,d,m="",u="";const h=this.getElementTag("base");this.useExistingCss&&(m=this.getElementTag("style"),u=this.getElementTag("link")),s=this.getHtmlContents(),d=window.open("","_blank","top=0,left=0,height=auto,width=auto"),d.document.open(),d.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${h}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${m}\n          ${u}\n        </head>\n        <body>\n          ${s}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),d.document.close()}}return g.\u0275fac=function(s){return new(s||g)},g.\u0275dir=e.lG2({type:g,selectors:[["button","ngxPrint",""]],hostBindings:function(s,d){1&s&&e.NdJ("click",function(){return d.print()})},inputs:{useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile",printSectionId:"printSectionId",printTitle:"printTitle"}}),g})(),A=(()=>{class g{}return g.\u0275fac=function(s){return new(s||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[[]]}),g})()}}]);