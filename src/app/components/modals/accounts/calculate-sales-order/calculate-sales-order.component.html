<!-- Modal Header -->
<div class="modal-header">
    <h4 class="modal-title">CALCULATE SALES ORDER</h4>
    <button type="button" class="close" data-dismiss="modal">&times;</button>
</div>

<!-- Modal body -->
<!-- <div style="max-height: 80vh;
overflow-x: clip !important;
overflow-y: auto;"> -->
<div class="modal-body add-modal" id="add-modalId">
    <div class="row">
        <div class="col-md-12">
            <div class="input-style mb-2">
                <div class="select-box">
                    <div class="form-group position-relative" (focusout)="orderInputOut()">
                        <label class="d-block"><span class="red-label">Work Order Number</span><span
                                class="text-danger">*</span></label>
                        <input type="text" class="ctm-input type-input" placeholder="Search work orders"
                            (input)="searchOrder($event)" (focus)="orderInput = true; focusInput()" #searchInput>
                        <div class="custom-dropdown-list" *ngIf="orderInput">
                            <ul>
                                <li *ngFor="let order of orders" (click)="selectOrder(order)">
                                    <strong>{{ order.work_order.work_number }}</strong> | <strong>Customer </strong>: {{
                                    order.work_order.customer.name }} | <strong>Contract </strong>: {{
                                    order.work_order.contract }}
                                </li>
                            </ul>
                        </div>
                        <i-feather class="input-icon" name="search"></i-feather>
                    </div>
                    <!-- <div class="d-flex flex-wrap">
                            <ng-container *ngFor="let order of selectedOrders;let i= index">
                                <span class="fiels-ctm" *ngFor="let num of order.work_number;let j= index">
                                    {{ num }}
                                    
                                    <span>
                                        <i-feather class="plus-rotate" name="plus" (click)="removeOrder(i, j)"></i-feather>
                                    </span>
                                </span>
                            </ng-container>
                        </div> -->
                </div>
            </div>
        </div>
        <div class="sales-order-main-box">
            <div class="row">
                <ng-container *ngFor="let order of selectedOrders; let i=index">
                    <div class="col-md-12">
                        <div class="input-style row d-flex justify-content-between m-1">
                            <label class="d-block">Value <span class="red-label"
                                    *ngFor="let wO of order.work_number;">{{ wO }}</span><span
                                    class="text-danger"></span></label>

                            <span class="cross-icon">
                                <i-feather class="plus-rotate" name="plus" (click)="removeOrder(i)"></i-feather>
                            </span>
                        </div>
                        <div class="search-inputs mb-2 d-flex justify-content-between align-center">
                            <div class="input-style px-1">
                                <label class="d-block">Quantity</label>
                                <div class="type-pass">
                                    <input type="text" class="ctm-input" placeholder="" [value]="order.products"
                                        readonly>
                                    <!-- <div class="icon-eye d-flex align-items-center justify-content-center">
                                            <img src="assets/img/ipnut-pound.png" alt="pound">
                                        </div> -->
                                </div>
                            </div>
                            <div class="input-style px-1">
                                <label class="d-block">Doors</label>
                                <div class="type-pass">
                                    <input type="text" class="ctm-input" placeholder="" [value]="order.Doors" readonly>
                                    <div class="icon-eye d-flex align-items-center justify-content-center">
                                        <img src="assets/img/ipnut-pound.png" alt="pound">
                                    </div>
                                </div>
                            </div>
                            <div class="input-style px-1">
                                <label class="d-block">Frame</label>
                                <div class="type-pass">
                                    <input type="text" class="ctm-input" placeholder="" [value]="order.Frame" readonly>
                                    <div class="icon-eye d-flex align-items-center justify-content-center">
                                        <img src="assets/img/ipnut-pound.png" alt="pound">
                                    </div>
                                </div>
                            </div>
                            <div class="input-style px-1">
                                <label class="d-block">Other</label>
                                <div class="type-pass">
                                    <input type="text" class="ctm-input" placeholder="" [value]="order.other" readonly>
                                    <div class="icon-eye d-flex align-items-center justify-content-center">
                                        <img src="assets/img/ipnut-pound.png" alt="pound">
                                    </div>
                                </div>
                            </div>
                            <div class="input-style">
                                <label class="d-block">Delivery Fee</label>
                                <div class="type-pass">
                                    <input type="number" class="ctm-input" placeholder="" readonly
                                        [value]="order.delivery_fee">
                                    <div class="icon-eye d-flex align-items-center justify-content-center">
                                        <img src="assets/img/ipnut-pound.png" alt="pound">
                                    </div>
                                </div>
                            </div>
                            <div class="input-style px-1">
                                <label class="d-block">Total</label>
                                <div class="type-pass">
                                    <input type="text" class="ctm-input set-padding" placeholder=""
                                        [value]="order.total" readonly>
                                    <div class="icon-eye d-flex align-items-center justify-content-center">
                                        <img src="assets/img/ipnut-pound.png" alt="pound">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </ng-container>
            </div>
        </div>
    </div>
</div>
<!-- </div> -->

<div class="row" *ngIf="selectedOrders.length > 0">
    <div class="col-md-12">
        <div class="input-style row d-flex justify-content-between m-1">
            <label class="d-block text-danger">Grand Total</label>
        </div>
        <div class="search-inputs mb-2 d-flex justify-content-between align-center">
            <div class="input-style px-1">
                <label class="d-block">Quantity</label>
                <div class="type-pass">
                    <input type="text" class="ctm-input" placeholder="" [value]="grandTotal.quantity"
                        readonly>
                </div>
            </div>
            <div class="input-style px-1">
                <label class="d-block">Doors</label>
                <div class="type-pass">
                    <input type="text" class="ctm-input" placeholder="" [value]="grandTotal.doors" readonly>
                    <div class="icon-eye d-flex align-items-center justify-content-center">
                        <img src="assets/img/ipnut-pound.png" alt="pound">
                    </div>
                </div>
            </div>
            <div class="input-style px-1">
                <label class="d-block">Frame</label>
                <div class="type-pass">
                    <input type="text" class="ctm-input" placeholder="" [value]="grandTotal.frame" readonly>
                    <div class="icon-eye d-flex align-items-center justify-content-center">
                        <img src="assets/img/ipnut-pound.png" alt="pound">
                    </div>
                </div>
            </div>
            <div class="input-style px-1">
                <label class="d-block">Other</label>
                <div class="type-pass">
                    <input type="text" class="ctm-input" placeholder="" [value]="grandTotal.other" readonly>
                    <div class="icon-eye d-flex align-items-center justify-content-center">
                        <img src="assets/img/ipnut-pound.png" alt="pound">
                    </div>
                </div>
            </div>
            <div class="input-style">
                <label class="d-block">Delivery Fee</label>
                <div class="type-pass">
                    <input type="number" class="ctm-input" placeholder="" readonly
                        [value]="grandTotal.delivery_fee">
                    <div class="icon-eye d-flex align-items-center justify-content-center">
                        <img src="assets/img/ipnut-pound.png" alt="pound">
                    </div>
                </div>
            </div>
            <div class="input-style px-1">
                <label class="d-block">Total</label>
                <div class="type-pass">
                    <input type="text" class="ctm-input set-padding" placeholder=""
                        [value]="grandTotal.total" readonly>
                    <div class="icon-eye d-flex align-items-center justify-content-center">
                        <img src="assets/img/ipnut-pound.png" alt="pound">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal footer -->
<div class="modal-footer">
    <div class="d-flex align-items-center justify-content-center w-100">
        <!-- <a href="javascript:void(0)" class="add-btn" (click)="addOrder()" *ngIf="type == 'add'">Add</a> -->
        <a href="javascript:void(0)" class="discard-btn" (click)="cancel()">Cancel</a>
        <!-- <a href="javascript:void(0)" class="add-btn" (click)="addOrder()" *ngIf="type == 'add'">Add</a>
        <a href="javascript:void(0)" class="add-btn" (click)="updateOrder()" *ngIf="type == 'edit'">Update</a> -->
    </div>
</div>